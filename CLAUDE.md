# CLAUDE.md - Sparrow AI Development Context

> **This file provides Claude Code with complete context for building Sparrow AI.**
> Read this entire file before making any changes to the codebase.

---

## Table of Contents

1. [Project Overview](#project-overview)
2. [Why Sparrow Exists](#why-sparrow-exists)
3. [Core Value Proposition](#core-value-proposition)
4. [User Experience Flow](#user-experience-flow)
5. [System Architecture](#system-architecture)
6. [Technology Stack](#technology-stack)
7. [Integration APIs](#integration-apis)
8. [Database Schema](#database-schema)
9. [API Routes](#api-routes)
10. [Component Architecture](#component-architecture)
11. [Styling Guidelines](#styling-guidelines)
12. [MCP Server Configuration](#mcp-server-configuration)
13. [Development Commands](#development-commands)
14. [File Structure](#file-structure)
15. [Implementation Priorities](#implementation-priorities)

---

## Project Overview

**Sparrow** is an AI-powered sales training platform that lets users practice cold calls, discovery conversations, and objection handling with realistic AI prospects that push back like real buyers.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SPARROW AI                              â”‚
â”‚              "Never wing a call again"                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   User speaks â†’ ElevenLabs processes â†’ AI responds â†’ User hears â”‚
â”‚                                                                 â”‚
â”‚   After call: Gemini analyzes â†’ Scores generated â†’ Feedback     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Hackathon Context

- **Competition:** AI Partner Catalyst Hackathon by Google Cloud
- **Prize Pool:** $75,000
- **Primary Track:** ElevenLabs Challenge (Voice-driven conversational AI)
- **Secondary Track:** Datadog Challenge (LLM Observability) - for monitoring
- **Deadline:** January 1, 2026
- **Requirements:**
  - Integrate Google Cloud products (Vertex AI/Gemini)
  - Integrate partner technology (ElevenLabs)
  - Public GitHub repo with open source license
  - Hosted project URL
  - 3-minute demo video

---

## Why Sparrow Exists

### The Problem

Sales teams lose millions training reps on real prospects:

| Pain Point | Impact |
|------------|--------|
| Average SDR ramp time | 3-6 months |
| Reps missing quota | 67% |
| Manager time on roleplay | 15-20% (and they hate it) |
| Where practice happens | On real prospects = lost deals |

### The Insight

You can't get good at sales by reading about it. You get good by doing it. But every "practice" call today is a real deal on the line.

### The Solution

An AI sparring partner that:
- Is available 24/7 (managers aren't)
- Never gets tired of roleplaying (managers do)
- Provides consistent, objective feedback (managers are biased)
- Creates a safe space to fail (real calls aren't)
- Adapts difficulty based on skill level (real prospects don't)

---

## Core Value Proposition

### What Makes Sparrow Different

```
Traditional Training          vs          Sparrow
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Read a book                              Practice out loud
Watch a video                            Get real-time pushback
Awkward roleplay with manager            AI that acts like buyers
Feedback: "That was good"                Specific, timestamped feedback
Practice on real prospects               Safe environment to fail
Available during work hours              Available 24/7
```

### Three Practice Modes

| Mode | Goal | Skills Practiced |
|------|------|------------------|
| **Cold Call Simulator** | Book a meeting | Openers, handling gatekeepers, earning attention, value props |
| **Discovery Call Simulator** | Uncover pain | Open questions, active listening, qualification, pain quantification |
| **Objection Gauntlet** | Handle pushback | "Too expensive", "Not a priority", "Send an email", "We use competitor" |

### Realistic AI Prospects

Each AI prospect has:
- **Backstory**: Company, role, tenure, recent challenges
- **Hidden Pain Points**: Only revealed if user asks the right questions
- **Personality Type**: Skeptical, busy, friendly, technical
- **Specific Objections**: Tailored to their role and industry
- **Adaptive Behavior**: Gets harder or easier based on user performance

---

## User Experience Flow

### Complete User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 1: ENTRY                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Landing Page                                                             â”‚
â”‚    - Hero: "Never wing a call again"                                        â”‚
â”‚    - Value props with animations                                            â”‚
â”‚    - CTA: "Start Practicing Free"                                           â”‚
â”‚                                                                             â”‚
â”‚ 2. Sign Up (Clerk)                                                          â”‚
â”‚    - Google OAuth (primary)                                                 â”‚
â”‚    - Email/password (secondary)                                             â”‚
â”‚                                                                             â”‚
â”‚ 3. Onboarding (3 steps)                                                     â”‚
â”‚    - Step 1: "What do you sell?" (SaaS, Services, Hardware, Other)          â”‚
â”‚    - Step 2: "What's your role?" (SDR, AE, Manager, Founder)                â”‚
â”‚    - Step 3: "What do you want to improve?" (Cold calls, Discovery, etc.)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 2: DASHBOARD                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dashboard Home                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚ â”‚ Total Calls     â”‚ â”‚ Avg Score       â”‚ â”‚ Current Streak  â”‚                â”‚
â”‚ â”‚ 23              â”‚ â”‚ 7.4/10          â”‚ â”‚ 4 days ğŸ”¥       â”‚                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Quick Start                                                             â”‚ â”‚
â”‚ â”‚ [ğŸ¯ Cold Call] [ğŸ” Discovery] [âš¡ Objection Gauntlet]                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Recent Calls                                                            â”‚ â”‚
â”‚ â”‚ â€¢ Cold Call with Sarah Chen (VP Ops) - Score: 7.8 - 3 min ago           â”‚ â”‚
â”‚ â”‚ â€¢ Discovery with Mike Torres (CTO) - Score: 6.2 - Yesterday             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Focus Area: Your closing needs work                                     â”‚ â”‚
â”‚ â”‚ "In 4 of your last 6 calls, you didn't ask for a specific next step."   â”‚ â”‚
â”‚ â”‚ [Practice Closing â†’]                                                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 3: SCENARIO CONFIGURATION                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Configure Your Prospect                                                     â”‚
â”‚                                                                             â”‚
â”‚ Industry          Role              Personality       Difficulty            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ â”‚ SaaS       â–¼â”‚ â”‚ VP Ops     â–¼â”‚ â”‚ Skeptical  â–¼â”‚ â”‚ Hard       â–¼â”‚        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”‚ [Generate Prospect]                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 4: PRE-CALL BRIEFING                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ Sarah Chen                                                           â”‚ â”‚
â”‚ â”‚ VP of Operations at LogiFlow (Logistics, 200 employees)                 â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ Background:                                                             â”‚ â”‚
â”‚ â”‚ 8 months in role, promoted internally. Previously Director of Ops       â”‚ â”‚
â”‚ â”‚ at a smaller logistics company. Under pressure to modernize systems.    â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ ğŸ¯ Your Goal: Book a 30-minute demo for next week                       â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ âš ï¸ Expected Resistance:                                                 â”‚ â”‚
â”‚ â”‚ â€¢ "We're not looking at new solutions right now"                        â”‚ â”‚
â”‚ â”‚ â€¢ "How are you different from [competitor]?"                            â”‚ â”‚
â”‚ â”‚ â€¢ "That sounds expensive"                                               â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ ğŸ’¡ Tips:                                                                â”‚ â”‚
â”‚ â”‚ â€¢ Ask about recent operational challenges                               â”‚ â”‚
â”‚ â”‚ â€¢ Listen for mentions of delays or inefficiencies                       â”‚ â”‚
â”‚ â”‚ â€¢ Don't pitch features - focus on outcomes                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ [Start Call] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 5: LIVE CALL                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚                        â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                             â”‚ â”‚
â”‚ â”‚                        â”‚   â—‰ 02:34        â”‚ â† Timer                     â”‚ â”‚
â”‚ â”‚                        â”‚                  â”‚                             â”‚ â”‚
â”‚ â”‚                        â”‚  âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿   â”‚ â† Voice waveform            â”‚ â”‚
â”‚ â”‚                        â”‚                  â”‚                             â”‚ â”‚
â”‚ â”‚                        â”‚  Sarah Chen      â”‚                             â”‚ â”‚
â”‚ â”‚                        â”‚  VP of Ops       â”‚                             â”‚ â”‚
â”‚ â”‚                        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                             â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ Live Transcript â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚
â”‚ â”‚ Sarah: "...we're really not in the market for anything new right now."  â”‚ â”‚
â”‚ â”‚ You: "I completely understand. Out of curiosity, what's driving that?" â”‚ â”‚
â”‚ â”‚ Sarah: "Well, we just went through a big system change last year..."    â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ¯ Goal: Book demo     â”‚ ğŸ’¡ Tip: Ask about the pain from that changeâ”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚              [ğŸ”‡ Mute]        [ğŸ“ End Call]        [â¸ï¸ Pause]            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 6: CALL COMPLETE TRANSITION                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚                            â”‚                           â”‚
â”‚                    â”‚     Analyzing your call    â”‚                           â”‚
â”‚                    â”‚                            â”‚                           â”‚
â”‚                    â”‚     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 67%       â”‚                           â”‚
â”‚                    â”‚                            â”‚                           â”‚
â”‚                    â”‚  â€¢ Transcribing âœ“          â”‚                           â”‚
â”‚                    â”‚  â€¢ Scoring performance...  â”‚                           â”‚
â”‚                    â”‚  â€¢ Generating feedback     â”‚                           â”‚
â”‚                    â”‚                            â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 7: DEBRIEF & SCORECARD                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Result: Meeting Booked âœ…                          Duration: 3:24       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Overall Score                                                           â”‚ â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  7.4/10                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Score Breakdown:                                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Opening              â”‚ 8/10  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ Strong hook, earned attention â”‚ â”‚
â”‚ â”‚ Discovery            â”‚ 6/10  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ Asked about pain, didn't dig  â”‚ â”‚
â”‚ â”‚ Objection Handling   â”‚ 8/10  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ Good reframe on "not now"     â”‚ â”‚
â”‚ â”‚ Call Control         â”‚ 7/10  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ Let her go off-topic once     â”‚ â”‚
â”‚ â”‚ Closing              â”‚ 8/10  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ Clear ask with specific time  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Key Moments:                                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¡ 1:12 - Missed opportunity                                            â”‚ â”‚
â”‚ â”‚ She mentioned "delivery delays" but you didn't dig in.                  â”‚ â”‚
â”‚ â”‚ Try: "How much is that costing you per month?"                          â”‚ â”‚
â”‚ â”‚ [Jump to moment â†’]                                                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸŸ¢ 2:34 - Strong moment                                                 â”‚ â”‚
â”‚ â”‚ Great reframe: "That's exactly why companies at your stage look at     â”‚ â”‚
â”‚ â”‚ this now, not later."                                                   â”‚ â”‚
â”‚ â”‚ [Jump to moment â†’]                                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ [View Full Transcript] [Try Again] [Back to Dashboard]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 8: PROGRESS DASHBOARD                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Your Progress                                                               â”‚
â”‚                                                                             â”‚
â”‚ Skill Breakdown:                                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚    Opening â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  8.1 (+0.4)                   â”‚ â”‚
â”‚ â”‚  Discovery â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  6.2 (-0.2)  â† Focus here    â”‚ â”‚
â”‚ â”‚ Objections â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  7.1 (+0.8)                   â”‚ â”‚
â”‚ â”‚    Control â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  7.0 (---)                    â”‚ â”‚
â”‚ â”‚    Closing â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  5.4 (+0.3)  â† Focus here    â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Score Trend (Last 30 Days):                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 10â”‚                                                                     â”‚ â”‚
â”‚ â”‚   â”‚                                        âˆ™âˆ™                           â”‚ â”‚
â”‚ â”‚  8â”‚                              âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™    âˆ™âˆ™âˆ™âˆ™                       â”‚ â”‚
â”‚ â”‚   â”‚                    âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™                                        â”‚ â”‚
â”‚ â”‚  6â”‚          âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™                                                  â”‚ â”‚
â”‚ â”‚   â”‚   âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™âˆ™                                                           â”‚ â”‚
â”‚ â”‚  4â”‚âˆ™âˆ™âˆ™                                                                  â”‚ â”‚
â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚ â”‚     Dec 1                        Dec 15                        Dec 22   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## System Architecture

### High-Level Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CLIENT (Browser)                               â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                     Next.js 15 + React 19                           â”‚   â”‚
â”‚   â”‚                                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚ shadcn/  â”‚  â”‚ Phosphor â”‚  â”‚  Framer  â”‚  â”‚ ElevenLabs       â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   ui     â”‚  â”‚  Icons   â”‚  â”‚  Motion  â”‚  â”‚ React SDK        â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚     WebSocket (ElevenLabs) + Realtime (Supabase)            â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              API LAYER (Vercel)                             â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              Next.js API Routes (Edge + Serverless)                 â”‚   â”‚
â”‚   â”‚                                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚  /calls    â”‚  â”‚ /personas  â”‚  â”‚  /scoring  â”‚  â”‚   /user    â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SUPABASE        â”‚  â”‚     AI SERVICES      â”‚  â”‚    VOICE SERVICE     â”‚
â”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   PostgreSQL   â”‚  â”‚  â”‚  â”‚     Gemini     â”‚  â”‚  â”‚  â”‚   ElevenLabs   â”‚  â”‚
â”‚  â”‚   (Database)   â”‚  â”‚  â”‚  â”‚  (Vertex AI)   â”‚  â”‚  â”‚  â”‚  Convo AI      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Storage     â”‚  â”‚  â”‚  â”‚      Groq      â”‚  â”‚  â”‚  â”‚   WebSocket    â”‚  â”‚
â”‚  â”‚  (Recordings)  â”‚  â”‚  â”‚  â”‚ (Fast Infer)   â”‚  â”‚  â”‚  â”‚    (Audio)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚   Realtime     â”‚  â”‚
â”‚  â”‚   (Pub/Sub)    â”‚  â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚             â”‚     OBSERVABILITY    â”‚
â”‚                      â”‚             â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                     â”‚  â”‚    Datadog     â”‚  â”‚
                                     â”‚  â”‚ (LLM Observe)  â”‚  â”‚
                                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                     â”‚                      â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow: Starting a Call

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚â”€â”€â”€â”€â–¶â”‚ Frontend â”‚â”€â”€â”€â”€â–¶â”‚ API      â”‚â”€â”€â”€â”€â–¶â”‚ Gemini  â”‚â”€â”€â”€â”€â–¶â”‚ ElevenLabsâ”‚
â”‚      â”‚     â”‚          â”‚     â”‚ /start   â”‚     â”‚         â”‚     â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚               â”‚                â”‚                â”‚
   â”‚              â”‚               â”‚                â”‚                â”‚
   â”‚              â”‚               â–¼                â”‚                â”‚
   â”‚              â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚                â”‚
   â”‚              â”‚          â”‚ Supabase â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
   â”‚              â”‚          â”‚ (save)   â”‚                          â”‚
   â”‚              â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
   â”‚              â”‚               â”‚                                â”‚
   â”‚              â”‚               â–¼                                â–¼
   â”‚              â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Return: call_id, persona, elevenlabs   â”‚
   â”‚              â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚
   â”‚              â–¼
   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚         â”‚ Initialize ElevenLabs WebSocket with persona context    â”‚
   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚
   â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REAL-TIME VOICE LOOP                             â”‚
â”‚                                                                         â”‚
â”‚  User speaks â†’ ElevenLabs STT â†’ LLM (persona) â†’ ElevenLabs TTS â†’ User  â”‚
â”‚                                                                         â”‚
â”‚  Transcript streamed to Supabase Realtime â†’ Frontend displays live     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow: Ending a Call & Scoring

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚â”€â”€â”€â”€â–¶â”‚ End Callâ”‚â”€â”€â”€â”€â–¶â”‚ API /end â”‚
â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â–¼              â–¼              â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Supabase â”‚  â”‚   Groq   â”‚    â”‚  Gemini  â”‚
             â”‚ (status) â”‚  â”‚  (quick) â”‚    â”‚  (deep)  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                â”‚
                                â–¼                â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Quick   â”‚    â”‚   Detailed   â”‚
                          â”‚  Score   â”‚    â”‚   Feedback   â”‚
                          â”‚  (2-3s)  â”‚    â”‚   (5-10s)    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Supabase â”‚
                                   â”‚  (save)  â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Datadog  â”‚
                                   â”‚  (trace) â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Frontend â”‚
                                   â”‚ Debrief  â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack

### Core Framework

| Technology | Version | Purpose |
|------------|---------|---------|
| **Next.js** | 15.x | React framework with App Router |
| **React** | 19.x | UI library |
| **TypeScript** | 5.7.x | Type safety |
| **Tailwind CSS** | 4.x | Utility-first styling |
| **pnpm** | latest | Package manager |

### UI Components

| Package | Purpose |
|---------|---------|
| **shadcn/ui** | Base component library (no shadows theme) |
| **Phosphor Icons** | Icon library |
| **Framer Motion** | Animations |
| **Recharts** | Charts for progress tracking |

### Backend Services

| Service | Purpose |
|---------|---------|
| **Vercel** | Hosting, Edge Functions, Serverless |
| **Supabase** | PostgreSQL, Storage, Realtime |
| **Clerk** | Authentication |

### AI & Voice

| Provider | Model/Product | Purpose |
|----------|---------------|---------|
| **ElevenLabs** | Conversational AI | Real-time voice agent |
| **Google Vertex AI** | Gemini 1.5 Pro | Persona generation, scoring, feedback |
| **Groq** | Llama 3.1 70B | Fast inference for quick scoring |

### Observability (Secondary Track)

| Service | Purpose |
|---------|---------|
| **Datadog** | LLM observability, tracing, cost tracking |

---

## Integration APIs

### Required Environment Variables

```bash
# ============================================
# SPARROW - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values

# -------------------- App --------------------
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=Sparrow

# -------------------- Clerk Authentication --------------------
# Get from: https://dashboard.clerk.com
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxx
CLERK_SECRET_KEY=sk_test_xxxxx
CLERK_WEBHOOK_SECRET=whsec_xxxxx

# Clerk URLs
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/onboarding

# -------------------- Supabase --------------------
# Get from: https://supabase.com/dashboard
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxxxx
SUPABASE_SERVICE_ROLE_KEY=eyJxxxxx

# -------------------- ElevenLabs (Voice AI - Primary) --------------------
# Get from: https://elevenlabs.io/app/settings/api-keys
# CRITICAL: This is the main hackathon integration
ELEVENLABS_API_KEY=sk_xxxxx

# Agent ID for Conversational AI (create at https://elevenlabs.io/app/conversational-ai)
ELEVENLABS_AGENT_ID=xxxxx

# Voice IDs for different prospect personalities
ELEVENLABS_VOICE_PROFESSIONAL=xxxxx    # Professional female voice
ELEVENLABS_VOICE_SKEPTICAL=xxxxx       # Skeptical male voice
ELEVENLABS_VOICE_FRIENDLY=xxxxx        # Warm friendly voice
ELEVENLABS_VOICE_TECHNICAL=xxxxx       # Technical/analytical voice

# -------------------- Google Cloud / Vertex AI (Gemini) --------------------
# Get from: https://console.cloud.google.com
# CRITICAL: This is the main hackathon integration
GOOGLE_CLOUD_PROJECT_ID=sparrow-ai-xxxxx
GOOGLE_CLOUD_LOCATION=us-central1

# Option 1: Service Account JSON (recommended for production)
GOOGLE_APPLICATION_CREDENTIALS=./google-credentials.json

# Option 2: API Key (simpler for development)
GOOGLE_AI_API_KEY=xxxxx

# -------------------- Groq (Fast Inference) --------------------
# Get from: https://console.groq.com
# Used for quick scoring during/after calls
GROQ_API_KEY=gsk_xxxxx

# -------------------- Datadog (LLM Observability - Secondary Track) --------------------
# Get from: https://app.datadoghq.com
# OPTIONAL but enables second hackathon track
DATADOG_API_KEY=xxxxx
DATADOG_APP_KEY=xxxxx
DATADOG_SITE=datadoghq.com

# Enable LLM observability
DD_LLMOBS_ENABLED=true
DD_LLMOBS_ML_APP=sparrow
DD_LLMOBS_AGENTLESS_ENABLED=true

# -------------------- Resend (Email) --------------------
# Get from: https://resend.com
RESEND_API_KEY=re_xxxxx
RESEND_FROM_EMAIL=sparrow@yourdomain.com

# -------------------- Analytics (Optional) --------------------
# PostHog
NEXT_PUBLIC_POSTHOG_KEY=phc_xxxxx
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# -------------------- Feature Flags --------------------
NEXT_PUBLIC_ENABLE_BILLING=false
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_DATADOG=true
```

### API Integration Details

#### ElevenLabs Conversational AI

```typescript
// lib/elevenlabs/client.ts
import { ElevenLabsClient } from 'elevenlabs';

export const elevenlabs = new ElevenLabsClient({
  apiKey: process.env.ELEVENLABS_API_KEY,
});

// Initialize conversation
export async function startConversation(persona: Persona) {
  const conversation = await elevenlabs.conversationalAI.createConversation({
    agent_id: process.env.ELEVENLABS_AGENT_ID,
    // Dynamic persona injection via system prompt override
    conversation_config_override: {
      agent: {
        prompt: {
          prompt: buildPersonaPrompt(persona),
        },
        first_message: persona.greeting,
      },
      tts: {
        voice_id: getVoiceForPersonality(persona.personality),
      },
    },
  });
  
  return conversation;
}
```

#### Google Vertex AI (Gemini)

```typescript
// lib/gemini/client.ts
import { VertexAI } from '@google-cloud/vertexai';

const vertexAI = new VertexAI({
  project: process.env.GOOGLE_CLOUD_PROJECT_ID,
  location: process.env.GOOGLE_CLOUD_LOCATION,
});

export const gemini = vertexAI.getGenerativeModel({
  model: 'gemini-1.5-pro',
});

// Alternative: Using Google AI SDK (simpler)
import { GoogleGenerativeAI } from '@google/generative-ai';

const genAI = new GoogleGenerativeAI(process.env.GOOGLE_AI_API_KEY);
export const gemini = genAI.getGenerativeModel({ model: 'gemini-1.5-pro' });
```

#### Datadog LLM Observability

```typescript
// lib/datadog/client.ts
import { llmobs } from 'dd-trace';

// Initialize in instrumentation.ts
llmobs.enable({
  mlApp: 'sparrow',
  agentlessEnabled: true,
});

// Wrap LLM calls
export async function trackedGeminiCall(prompt: string, metadata: object) {
  return llmobs.trace(
    { kind: 'llm', name: 'gemini-persona-generation' },
    async (span) => {
      span.setTag('prompt.tokens', estimateTokens(prompt));
      const result = await gemini.generateContent(prompt);
      span.setTag('completion.tokens', estimateTokens(result));
      return result;
    }
  );
}
```

---

## Database Schema

### SQL Migrations

```sql
-- migrations/001_initial_schema.sql

-- Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Users table (synced from Clerk)
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  clerk_id TEXT UNIQUE NOT NULL,
  email TEXT NOT NULL,
  name TEXT,
  role TEXT, -- SDR, AE, Manager, Founder
  industry TEXT, -- SaaS, Services, etc.
  preferences JSONB DEFAULT '{}',
  onboarding_completed BOOLEAN DEFAULT FALSE,
  plan TEXT DEFAULT 'free',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Calls table
CREATE TABLE calls (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  type TEXT NOT NULL CHECK (type IN ('cold_call', 'discovery', 'objection_gauntlet')),
  persona_config JSONB NOT NULL,
  status TEXT DEFAULT 'ready' CHECK (status IN ('ready', 'active', 'completed', 'abandoned')),
  duration_seconds INTEGER,
  recording_url TEXT,
  elevenlabs_conversation_id TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  started_at TIMESTAMPTZ,
  completed_at TIMESTAMPTZ
);

-- Call transcripts
CREATE TABLE call_transcripts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  call_id UUID NOT NULL REFERENCES calls(id) ON DELETE CASCADE,
  messages JSONB NOT NULL DEFAULT '[]',
  -- messages format: [{ speaker: 'user'|'prospect', content: string, timestamp_ms: number }]
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Call scores
CREATE TABLE call_scores (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  call_id UUID UNIQUE NOT NULL REFERENCES calls(id) ON DELETE CASCADE,
  overall_score DECIMAL(3,1) CHECK (overall_score >= 0 AND overall_score <= 10),
  opening_score DECIMAL(3,1) CHECK (opening_score >= 0 AND opening_score <= 10),
  discovery_score DECIMAL(3,1) CHECK (discovery_score >= 0 AND discovery_score <= 10),
  objection_score DECIMAL(3,1) CHECK (objection_score >= 0 AND objection_score <= 10),
  control_score DECIMAL(3,1) CHECK (control_score >= 0 AND control_score <= 10),
  closing_score DECIMAL(3,1) CHECK (closing_score >= 0 AND closing_score <= 10),
  outcome TEXT CHECK (outcome IN ('meeting_booked', 'callback', 'rejected', 'no_decision')),
  scoring_metadata JSONB DEFAULT '{}', -- Provider used, latency, etc.
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Call feedback (timestamped moments)
CREATE TABLE call_feedback (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  call_id UUID NOT NULL REFERENCES calls(id) ON DELETE CASCADE,
  category TEXT NOT NULL CHECK (category IN ('opening', 'discovery', 'objection', 'control', 'closing')),
  timestamp_ms INTEGER NOT NULL,
  feedback_type TEXT NOT NULL CHECK (feedback_type IN ('positive', 'negative', 'missed_opportunity')),
  content TEXT NOT NULL,
  suggestion TEXT,
  transcript_excerpt TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- User progress (aggregated stats)
CREATE TABLE user_progress (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID UNIQUE NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  total_calls INTEGER DEFAULT 0,
  total_duration_seconds INTEGER DEFAULT 0,
  current_streak INTEGER DEFAULT 0,
  longest_streak INTEGER DEFAULT 0,
  last_call_date DATE,
  avg_overall_score DECIMAL(3,1),
  skill_scores JSONB DEFAULT '{
    "opening": null,
    "discovery": null,
    "objection": null,
    "control": null,
    "closing": null
  }',
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Indexes for performance
CREATE INDEX idx_calls_user_id ON calls(user_id);
CREATE INDEX idx_calls_created_at ON calls(created_at DESC);
CREATE INDEX idx_calls_status ON calls(status);
CREATE INDEX idx_call_feedback_call_id ON call_feedback(call_id);
CREATE INDEX idx_call_feedback_timestamp ON call_feedback(timestamp_ms);

-- Row Level Security
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE calls ENABLE ROW LEVEL SECURITY;
ALTER TABLE call_transcripts ENABLE ROW LEVEL SECURITY;
ALTER TABLE call_scores ENABLE ROW LEVEL SECURITY;
ALTER TABLE call_feedback ENABLE ROW LEVEL SECURITY;
ALTER TABLE user_progress ENABLE ROW LEVEL SECURITY;

-- RLS Policies (users can only access their own data)
CREATE POLICY "Users can view own profile" ON users
  FOR SELECT USING (clerk_id = auth.jwt()->>'sub');

CREATE POLICY "Users can update own profile" ON users
  FOR UPDATE USING (clerk_id = auth.jwt()->>'sub');

CREATE POLICY "Users can view own calls" ON calls
  FOR SELECT USING (user_id IN (SELECT id FROM users WHERE clerk_id = auth.jwt()->>'sub'));

CREATE POLICY "Users can insert own calls" ON calls
  FOR INSERT WITH CHECK (user_id IN (SELECT id FROM users WHERE clerk_id = auth.jwt()->>'sub'));

-- Similar policies for other tables...

-- Function to update user progress after call completion
CREATE OR REPLACE FUNCTION update_user_progress()
RETURNS TRIGGER AS $$
BEGIN
  -- Update progress when call is completed
  IF NEW.status = 'completed' AND OLD.status != 'completed' THEN
    INSERT INTO user_progress (user_id, total_calls, total_duration_seconds, last_call_date)
    VALUES (NEW.user_id, 1, COALESCE(NEW.duration_seconds, 0), CURRENT_DATE)
    ON CONFLICT (user_id) DO UPDATE SET
      total_calls = user_progress.total_calls + 1,
      total_duration_seconds = user_progress.total_duration_seconds + COALESCE(NEW.duration_seconds, 0),
      last_call_date = CURRENT_DATE,
      current_streak = CASE 
        WHEN user_progress.last_call_date = CURRENT_DATE - INTERVAL '1 day' 
        THEN user_progress.current_streak + 1
        WHEN user_progress.last_call_date = CURRENT_DATE 
        THEN user_progress.current_streak
        ELSE 1
      END,
      longest_streak = GREATEST(user_progress.longest_streak, 
        CASE 
          WHEN user_progress.last_call_date = CURRENT_DATE - INTERVAL '1 day' 
          THEN user_progress.current_streak + 1
          ELSE user_progress.current_streak
        END
      ),
      updated_at = NOW();
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_user_progress
  AFTER UPDATE ON calls
  FOR EACH ROW
  EXECUTE FUNCTION update_user_progress();
```

### TypeScript Types

```typescript
// types/database.ts

export interface User {
  id: string;
  clerk_id: string;
  email: string;
  name: string | null;
  role: 'sdr' | 'ae' | 'manager' | 'founder' | null;
  industry: string | null;
  preferences: UserPreferences;
  onboarding_completed: boolean;
  plan: 'free' | 'starter' | 'pro';
  created_at: string;
  updated_at: string;
}

export interface UserPreferences {
  default_difficulty?: 'easy' | 'medium' | 'hard' | 'brutal';
  default_call_type?: CallType;
  voice_style?: 'professional' | 'casual';
}

export type CallType = 'cold_call' | 'discovery' | 'objection_gauntlet';
export type CallStatus = 'ready' | 'active' | 'completed' | 'abandoned';

export interface Call {
  id: string;
  user_id: string;
  type: CallType;
  persona_config: PersonaConfig;
  status: CallStatus;
  duration_seconds: number | null;
  recording_url: string | null;
  elevenlabs_conversation_id: string | null;
  created_at: string;
  started_at: string | null;
  completed_at: string | null;
}

export interface PersonaConfig {
  name: string;
  title: string;
  company: string;
  company_size: string;
  industry: string;
  background: string;
  personality: PersonalityType;
  difficulty: DifficultyLevel;
  hidden_pain_points: string[];
  objections: string[];
  triggers: {
    positive: string[];
    negative: string[];
  };
  goal: string;
}

export type PersonalityType = 'skeptical' | 'busy' | 'friendly' | 'technical';
export type DifficultyLevel = 'easy' | 'medium' | 'hard' | 'brutal';

export interface CallScore {
  id: string;
  call_id: string;
  overall_score: number;
  opening_score: number;
  discovery_score: number;
  objection_score: number;
  control_score: number;
  closing_score: number;
  outcome: 'meeting_booked' | 'callback' | 'rejected' | 'no_decision';
  scoring_metadata: {
    provider: 'gemini' | 'groq';
    latency_ms: number;
  };
  created_at: string;
}

export interface CallFeedback {
  id: string;
  call_id: string;
  category: 'opening' | 'discovery' | 'objection' | 'control' | 'closing';
  timestamp_ms: number;
  feedback_type: 'positive' | 'negative' | 'missed_opportunity';
  content: string;
  suggestion: string | null;
  transcript_excerpt: string | null;
  created_at: string;
}

export interface TranscriptMessage {
  speaker: 'user' | 'prospect';
  content: string;
  timestamp_ms: number;
}

export interface UserProgress {
  id: string;
  user_id: string;
  total_calls: number;
  total_duration_seconds: number;
  current_streak: number;
  longest_streak: number;
  last_call_date: string | null;
  avg_overall_score: number | null;
  skill_scores: {
    opening: number | null;
    discovery: number | null;
    objection: number | null;
    control: number | null;
    closing: number | null;
  };
  updated_at: string;
}
```

---

## API Routes

### Route Structure

```
src/app/api/
â”œâ”€â”€ calls/
â”‚   â”œâ”€â”€ route.ts                    # GET: List calls
â”‚   â”œâ”€â”€ start/
â”‚   â”‚   â””â”€â”€ route.ts                # POST: Initialize new call
â”‚   â””â”€â”€ [id]/
â”‚       â”œâ”€â”€ route.ts                # GET: Get call details
â”‚       â”œâ”€â”€ end/
â”‚       â”‚   â””â”€â”€ route.ts            # POST: End call, trigger scoring
â”‚       â”œâ”€â”€ transcript/
â”‚       â”‚   â””â”€â”€ route.ts            # GET: Get transcript
â”‚       â”œâ”€â”€ score/
â”‚       â”‚   â””â”€â”€ route.ts            # GET: Get score card
â”‚       â””â”€â”€ feedback/
â”‚           â””â”€â”€ route.ts            # GET: Get detailed feedback
â”œâ”€â”€ personas/
â”‚   â””â”€â”€ generate/
â”‚       â””â”€â”€ route.ts                # POST: Generate persona with Gemini
â”œâ”€â”€ scoring/
â”‚   â””â”€â”€ analyze/
â”‚       â””â”€â”€ route.ts                # POST: Analyze transcript (internal)
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â””â”€â”€ route.ts                # GET, PATCH: User profile
â”‚   â”œâ”€â”€ progress/
â”‚   â”‚   â””â”€â”€ route.ts                # GET: User progress stats
â”‚   â””â”€â”€ onboarding/
â”‚       â””â”€â”€ route.ts                # POST: Complete onboarding
â”œâ”€â”€ webhooks/
â”‚   â”œâ”€â”€ clerk/
â”‚   â”‚   â””â”€â”€ route.ts                # POST: Clerk user events
â”‚   â””â”€â”€ elevenlabs/
â”‚       â””â”€â”€ route.ts                # POST: ElevenLabs conversation events
â””â”€â”€ health/
    â””â”€â”€ route.ts                    # GET: Health check
```

### Key API Implementations

```typescript
// app/api/calls/start/route.ts
import { NextRequest, NextResponse } from 'next/server';
import { auth } from '@clerk/nextjs/server';
import { createClient } from '@/lib/supabase/server';
import { generatePersona } from '@/lib/gemini/personas';
import { createConversation } from '@/lib/elevenlabs/client';
import { llmobs } from '@/lib/datadog/client';

export async function POST(req: NextRequest) {
  const { userId } = await auth();
  if (!userId) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  }

  const body = await req.json();
  const { type, persona_options } = body;

  // Trace with Datadog
  return llmobs.trace({ kind: 'workflow', name: 'start-call' }, async () => {
    // 1. Generate persona with Gemini
    const persona = await generatePersona(persona_options);

    // 2. Create call record in Supabase
    const supabase = createClient();
    const { data: call, error } = await supabase
      .from('calls')
      .insert({
        user_id: userId,
        type,
        persona_config: persona,
        status: 'ready',
      })
      .select()
      .single();

    if (error) throw error;

    // 3. Initialize ElevenLabs conversation
    const conversation = await createConversation(persona);

    // 4. Update call with conversation ID
    await supabase
      .from('calls')
      .update({ 
        elevenlabs_conversation_id: conversation.conversation_id,
        status: 'active',
        started_at: new Date().toISOString(),
      })
      .eq('id', call.id);

    return NextResponse.json({
      success: true,
      data: {
        call_id: call.id,
        persona,
        elevenlabs: {
          conversation_id: conversation.conversation_id,
          signed_url: conversation.signed_url,
        },
      },
    });
  });
}
```

---

## Component Architecture

### Component Hierarchy

```
src/components/
â”œâ”€â”€ ui/                          # shadcn/ui components
â”‚   â”œâ”€â”€ button.tsx
â”‚   â”œâ”€â”€ card.tsx
â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”œâ”€â”€ input.tsx
â”‚   â”œâ”€â”€ select.tsx
â”‚   â”œâ”€â”€ progress.tsx
â”‚   â”œâ”€â”€ tabs.tsx
â”‚   â””â”€â”€ ... (other shadcn components)
â”‚
â”œâ”€â”€ layout/                      # Layout components
â”‚   â”œâ”€â”€ header.tsx               # Top navigation
â”‚   â”œâ”€â”€ sidebar.tsx              # Dashboard sidebar
â”‚   â”œâ”€â”€ footer.tsx               # Marketing footer
â”‚   â””â”€â”€ mobile-nav.tsx           # Mobile navigation
â”‚
â”œâ”€â”€ call/                        # Call-specific components
â”‚   â”œâ”€â”€ call-interface.tsx       # Main call UI
â”‚   â”œâ”€â”€ voice-waveform.tsx       # Audio visualization
â”‚   â”œâ”€â”€ live-transcript.tsx      # Real-time transcript display
â”‚   â”œâ”€â”€ call-controls.tsx        # Mute, end call, etc.
â”‚   â”œâ”€â”€ call-timer.tsx           # Duration timer
â”‚   â”œâ”€â”€ prospect-card.tsx        # Prospect info during call
â”‚   â””â”€â”€ goal-tracker.tsx         # Shows current goal
â”‚
â”œâ”€â”€ scenario/                    # Scenario selection
â”‚   â”œâ”€â”€ scenario-selector.tsx    # Choose call type
â”‚   â”œâ”€â”€ persona-configurator.tsx # Configure prospect
â”‚   â”œâ”€â”€ difficulty-selector.tsx  # Select difficulty
â”‚   â””â”€â”€ pre-call-briefing.tsx    # Show persona details
â”‚
â”œâ”€â”€ debrief/                     # Post-call review
â”‚   â”œâ”€â”€ score-card.tsx           # Overall scores
â”‚   â”œâ”€â”€ score-breakdown.tsx      # Category breakdown
â”‚   â”œâ”€â”€ key-moments.tsx          # Timestamped feedback
â”‚   â”œâ”€â”€ transcript-viewer.tsx    # Annotated transcript
â”‚   â””â”€â”€ next-steps.tsx           # Recommendations
â”‚
â”œâ”€â”€ dashboard/                   # Dashboard components
â”‚   â”œâ”€â”€ stats-cards.tsx          # Summary metrics
â”‚   â”œâ”€â”€ recent-calls.tsx         # Recent calls list
â”‚   â”œâ”€â”€ quick-start.tsx          # Quick start buttons
â”‚   â”œâ”€â”€ focus-area.tsx           # Improvement suggestion
â”‚   â””â”€â”€ streak-indicator.tsx     # Current streak
â”‚
â”œâ”€â”€ progress/                    # Progress tracking
â”‚   â”œâ”€â”€ skill-chart.tsx          # Radar chart of skills
â”‚   â”œâ”€â”€ score-trend.tsx          # Line chart over time
â”‚   â”œâ”€â”€ call-history.tsx         # Paginated call list
â”‚   â””â”€â”€ achievements.tsx         # Badges and milestones
â”‚
â”œâ”€â”€ onboarding/                  # Onboarding flow
â”‚   â”œâ”€â”€ onboarding-wizard.tsx    # Multi-step wizard
â”‚   â”œâ”€â”€ role-selector.tsx        # Select role
â”‚   â”œâ”€â”€ industry-selector.tsx    # Select industry
â”‚   â””â”€â”€ goals-selector.tsx       # Select improvement goals
â”‚
â””â”€â”€ shared/                      # Shared components
    â”œâ”€â”€ loading.tsx              # Loading states
    â”œâ”€â”€ error-boundary.tsx       # Error handling
    â”œâ”€â”€ empty-state.tsx          # Empty states
    â””â”€â”€ confirmation-dialog.tsx  # Confirmation modals
```

### Key Component Implementations

```tsx
// components/call/call-interface.tsx
'use client';

import { useEffect, useState, useCallback } from 'react';
import { useConversation } from '@elevenlabs/react';
import { motion, AnimatePresence } from 'framer-motion';
import { Phone, PhoneOff, Mic, MicOff } from '@phosphor-icons/react';
import { useSupabaseRealtime } from '@/hooks/use-realtime';
import { VoiceWaveform } from './voice-waveform';
import { LiveTranscript } from './live-transcript';
import { CallControls } from './call-controls';
import { CallTimer } from './call-timer';
import { ProspectCard } from './prospect-card';
import { GoalTracker } from './goal-tracker';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';
import type { PersonaConfig, TranscriptMessage } from '@/types/database';

interface CallInterfaceProps {
  callId: string;
  persona: PersonaConfig;
  signedUrl: string;
  onCallEnd: () => void;
}

export function CallInterface({ 
  callId, 
  persona, 
  signedUrl, 
  onCallEnd 
}: CallInterfaceProps) {
  const [transcript, setTranscript] = useState<TranscriptMessage[]>([]);
  const [isMuted, setIsMuted] = useState(false);
  const [startTime] = useState(Date.now());

  // ElevenLabs Conversational AI hook
  const conversation = useConversation({
    onConnect: () => console.log('Connected to ElevenLabs'),
    onDisconnect: () => console.log('Disconnected from ElevenLabs'),
    onMessage: (message) => {
      // Add to transcript
      const newMessage: TranscriptMessage = {
        speaker: message.source === 'user' ? 'user' : 'prospect',
        content: message.message,
        timestamp_ms: Date.now() - startTime,
      };
      setTranscript(prev => [...prev, newMessage]);
      
      // Broadcast to Supabase for persistence
      broadcastTranscript(callId, newMessage);
    },
    onError: (error) => console.error('ElevenLabs error:', error),
  });

  // Start conversation on mount
  useEffect(() => {
    conversation.startSession({ signedUrl });
    
    return () => {
      conversation.endSession();
    };
  }, [signedUrl]);

  const handleEndCall = useCallback(async () => {
    await conversation.endSession();
    onCallEnd();
  }, [conversation, onCallEnd]);

  const handleToggleMute = useCallback(() => {
    if (isMuted) {
      conversation.setVolume({ volume: 1 });
    } else {
      conversation.setVolume({ volume: 0 });
    }
    setIsMuted(!isMuted);
  }, [conversation, isMuted]);

  return (
    <div className="flex flex-col h-screen bg-background">
      {/* Main call area */}
      <div className="flex-1 flex flex-col items-center justify-center p-8">
        {/* Prospect visualization */}
        <motion.div
          initial={{ scale: 0.9, opacity: 0 }}
          animate={{ scale: 1, opacity: 1 }}
          className="relative"
        >
          <div className="w-32 h-32 rounded-full bg-muted flex items-center justify-center">
            <VoiceWaveform 
              isActive={conversation.isSpeaking} 
              className="w-24 h-24"
            />
          </div>
          <CallTimer startTime={startTime} className="mt-4 text-center" />
        </motion.div>

        {/* Prospect info */}
        <ProspectCard 
          name={persona.name}
          title={persona.title}
          company={persona.company}
          className="mt-6"
        />
      </div>

      {/* Live transcript */}
      <div className="h-48 border-t">
        <LiveTranscript 
          messages={transcript} 
          className="h-full overflow-y-auto p-4"
        />
      </div>

      {/* Goal and tips bar */}
      <GoalTracker 
        goal={persona.goal}
        className="border-t px-4 py-2"
      />

      {/* Call controls */}
      <CallControls
        isMuted={isMuted}
        onToggleMute={handleToggleMute}
        onEndCall={handleEndCall}
        className="border-t p-4"
      />
    </div>
  );
}
```

---

## Styling Guidelines

### Design Principles

1. **No shadows** - Use borders and subtle backgrounds instead
2. **Minimal, clean aesthetic** - Reduce visual clutter
3. **Generous whitespace** - Let elements breathe
4. **Subtle animations** - Enhance without distracting
5. **Accessibility first** - WCAG 2.1 AA compliant

### shadcn/ui Configuration

```typescript
// components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}
```

### Tailwind Configuration

```typescript
// tailwind.config.ts
import type { Config } from 'tailwindcss';

const config: Config = {
  darkMode: ['class'],
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
        // Custom colors for call states
        success: {
          DEFAULT: 'hsl(142, 76%, 36%)',
          foreground: 'hsl(0, 0%, 100%)',
        },
        warning: {
          DEFAULT: 'hsl(38, 92%, 50%)',
          foreground: 'hsl(0, 0%, 0%)',
        },
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      // IMPORTANT: Remove all box-shadow utilities
      boxShadow: {
        none: 'none',
        sm: 'none',
        DEFAULT: 'none',
        md: 'none',
        lg: 'none',
        xl: 'none',
        '2xl': 'none',
      },
      keyframes: {
        'waveform': {
          '0%, 100%': { transform: 'scaleY(0.5)' },
          '50%': { transform: 'scaleY(1)' },
        },
        'pulse-ring': {
          '0%': { transform: 'scale(0.95)', opacity: '1' },
          '100%': { transform: 'scale(1.3)', opacity: '0' },
        },
      },
      animation: {
        'waveform': 'waveform 1s ease-in-out infinite',
        'pulse-ring': 'pulse-ring 1.5s ease-out infinite',
      },
    },
  },
  plugins: [require('tailwindcss-animate')],
};

export default config;
```

### Global CSS Variables

```css
/* src/app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* IMPORTANT: Override any shadow utilities that might slip through */
@layer utilities {
  .shadow-none, .shadow-sm, .shadow, .shadow-md, .shadow-lg, .shadow-xl, .shadow-2xl {
    box-shadow: none !important;
  }
}
```

---

## MCP Server Configuration

### shadcn MCP Setup

The shadcn MCP server provides Claude Code with direct access to shadcn/ui component documentation and examples.

```json
// .mcp.json (project root)
{
  "mcpServers": {
    "shadcn": {
      "command": "npx",
      "args": ["-y", "@shadcn/mcp@latest"]
    }
  }
}
```

### Using MCP in Development

With MCP configured, Claude Code can:

1. **Browse Components**: List all available shadcn/ui components
2. **Search Registries**: Find specific components by name
3. **Install Components**: Add components using natural language
4. **Access Documentation**: Get detailed props, variants, examples

Example prompts that leverage MCP:
- "Add a card component for displaying prospect information"
- "Install the progress component for score visualization"
- "What props does the Dialog component accept?"
- "Show me examples of the Tabs component"

### Alternative MCP Servers

```json
// For additional component context
{
  "mcpServers": {
    "shadcn": {
      "command": "npx",
      "args": ["-y", "@shadcn/mcp@latest"]
    },
    "shadcn-ui-extended": {
      "command": "npx",
      "args": ["-y", "shadcn-ui-mcp-server"]
    }
  }
}
```

---

## Development Commands

### Package Scripts

```json
// package.json
{
  "scripts": {
    // Development
    "dev": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "format": "prettier --write \"**/*.{ts,tsx,js,jsx,json,md}\"",
    "typecheck": "tsc --noEmit",
    
    // Database
    "db:generate": "supabase gen types typescript --project-id $SUPABASE_PROJECT_ID > src/types/supabase.ts",
    "db:migrate": "supabase db push",
    "db:seed": "supabase db seed",
    "db:reset": "supabase db reset",
    "db:studio": "supabase studio",
    
    // Testing
    "test": "vitest",
    "test:watch": "vitest watch",
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui",
    
    // shadcn
    "ui:add": "npx shadcn@latest add",
    
    // Utilities
    "clean": "rm -rf .next node_modules",
    "prepare": "husky"
  }
}
```

### Common Commands

```bash
# Start development server
pnpm dev

# Add shadcn component
pnpm ui:add button card dialog

# Generate Supabase types
pnpm db:generate

# Run database migrations
pnpm db:migrate

# Type check
pnpm typecheck

# Lint and format
pnpm lint:fix && pnpm format
```

---

## File Structure

### Complete Project Structure

```
sparrow/
â”œâ”€â”€ .env.example                    # Environment variables template
â”œâ”€â”€ .env.local                      # Local environment (gitignored)
â”œâ”€â”€ .eslintrc.json                  # ESLint configuration
â”œâ”€â”€ .gitignore                      # Git ignore patterns
â”œâ”€â”€ .mcp.json                       # MCP server configuration
â”œâ”€â”€ .prettierrc                     # Prettier configuration
â”œâ”€â”€ CLAUDE.md                       # This file - Claude Code context
â”œâ”€â”€ README.md                       # Project documentation
â”œâ”€â”€ API.md                          # API documentation
â”œâ”€â”€ ARCHITECTURE.md                 # System architecture
â”œâ”€â”€ PROJECT_STORY.md                # Hackathon story
â”œâ”€â”€ LICENSE                         # MIT License
â”œâ”€â”€ components.json                 # shadcn/ui configuration
â”œâ”€â”€ next.config.ts                  # Next.js configuration
â”œâ”€â”€ package.json                    # Dependencies and scripts
â”œâ”€â”€ pnpm-lock.yaml                  # Lock file
â”œâ”€â”€ postcss.config.mjs              # PostCSS configuration
â”œâ”€â”€ tailwind.config.ts              # Tailwind configuration
â”œâ”€â”€ tsconfig.json                   # TypeScript configuration
â”œâ”€â”€ vitest.config.ts                # Vitest configuration
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ logo.svg
â”‚   â””â”€â”€ og-image.png                # OpenGraph image
â”‚
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ config.toml                 # Supabase configuration
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 001_initial_schema.sql
â”‚   â”‚   â””â”€â”€ 002_functions.sql
â”‚   â””â”€â”€ seed.sql                    # Seed data
â”‚
â””â”€â”€ src/
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ globals.css             # Global styles
    â”‚   â”œâ”€â”€ layout.tsx              # Root layout
    â”‚   â”œâ”€â”€ page.tsx                # Landing page
    â”‚   â”‚
    â”‚   â”œâ”€â”€ (auth)/                 # Auth routes (Clerk)
    â”‚   â”‚   â”œâ”€â”€ sign-in/
    â”‚   â”‚   â”‚   â””â”€â”€ [[...sign-in]]/
    â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
    â”‚   â”‚   â””â”€â”€ sign-up/
    â”‚   â”‚       â””â”€â”€ [[...sign-up]]/
    â”‚   â”‚           â””â”€â”€ page.tsx
    â”‚   â”‚
    â”‚   â”œâ”€â”€ (marketing)/            # Marketing pages
    â”‚   â”‚   â”œâ”€â”€ layout.tsx
    â”‚   â”‚   â”œâ”€â”€ pricing/
    â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
    â”‚   â”‚   â”œâ”€â”€ about/
    â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
    â”‚   â”‚   â””â”€â”€ demo/
    â”‚   â”‚       â””â”€â”€ page.tsx
    â”‚   â”‚
    â”‚   â”œâ”€â”€ (dashboard)/            # Protected dashboard
    â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Dashboard layout with sidebar
    â”‚   â”‚   â”œâ”€â”€ dashboard/
    â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # Dashboard home
    â”‚   â”‚   â”œâ”€â”€ call/
    â”‚   â”‚   â”‚   â”œâ”€â”€ new/
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # Scenario selection
    â”‚   â”‚   â”‚   â””â”€â”€ [id]/
    â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx    # Active call
    â”‚   â”‚   â”‚       â”œâ”€â”€ briefing/
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ page.tsx
    â”‚   â”‚   â”‚       â””â”€â”€ debrief/
    â”‚   â”‚   â”‚           â””â”€â”€ page.tsx
    â”‚   â”‚   â”œâ”€â”€ history/
    â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # Call history
    â”‚   â”‚   â”œâ”€â”€ progress/
    â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # Progress tracking
    â”‚   â”‚   â””â”€â”€ settings/
    â”‚   â”‚       â””â”€â”€ page.tsx        # User settings
    â”‚   â”‚
    â”‚   â”œâ”€â”€ onboarding/
    â”‚   â”‚   â””â”€â”€ page.tsx            # Onboarding flow
    â”‚   â”‚
    â”‚   â””â”€â”€ api/                    # API routes
    â”‚       â”œâ”€â”€ calls/
    â”‚       â”‚   â”œâ”€â”€ route.ts
    â”‚       â”‚   â”œâ”€â”€ start/
    â”‚       â”‚   â”‚   â””â”€â”€ route.ts
    â”‚       â”‚   â””â”€â”€ [id]/
    â”‚       â”‚       â”œâ”€â”€ route.ts
    â”‚       â”‚       â”œâ”€â”€ end/
    â”‚       â”‚       â”‚   â””â”€â”€ route.ts
    â”‚       â”‚       â”œâ”€â”€ transcript/
    â”‚       â”‚       â”‚   â””â”€â”€ route.ts
    â”‚       â”‚       â”œâ”€â”€ score/
    â”‚       â”‚       â”‚   â””â”€â”€ route.ts
    â”‚       â”‚       â””â”€â”€ feedback/
    â”‚       â”‚           â””â”€â”€ route.ts
    â”‚       â”œâ”€â”€ personas/
    â”‚       â”‚   â””â”€â”€ generate/
    â”‚       â”‚       â””â”€â”€ route.ts
    â”‚       â”œâ”€â”€ user/
    â”‚       â”‚   â”œâ”€â”€ profile/
    â”‚       â”‚   â”‚   â””â”€â”€ route.ts
    â”‚       â”‚   â”œâ”€â”€ progress/
    â”‚       â”‚   â”‚   â””â”€â”€ route.ts
    â”‚       â”‚   â””â”€â”€ onboarding/
    â”‚       â”‚       â””â”€â”€ route.ts
    â”‚       â”œâ”€â”€ webhooks/
    â”‚       â”‚   â”œâ”€â”€ clerk/
    â”‚       â”‚   â”‚   â””â”€â”€ route.ts
    â”‚       â”‚   â””â”€â”€ elevenlabs/
    â”‚       â”‚       â””â”€â”€ route.ts
    â”‚       â””â”€â”€ health/
    â”‚           â””â”€â”€ route.ts
    â”‚
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ ui/                     # shadcn/ui components
    â”‚   â”œâ”€â”€ layout/
    â”‚   â”œâ”€â”€ call/
    â”‚   â”œâ”€â”€ scenario/
    â”‚   â”œâ”€â”€ debrief/
    â”‚   â”œâ”€â”€ dashboard/
    â”‚   â”œâ”€â”€ progress/
    â”‚   â”œâ”€â”€ onboarding/
    â”‚   â””â”€â”€ shared/
    â”‚
    â”œâ”€â”€ hooks/
    â”‚   â”œâ”€â”€ use-call.ts             # Call state management
    â”‚   â”œâ”€â”€ use-audio.ts            # Audio handling
    â”‚   â”œâ”€â”€ use-realtime.ts         # Supabase realtime
    â”‚   â”œâ”€â”€ use-user.ts             # User data
    â”‚   â””â”€â”€ use-progress.ts         # Progress tracking
    â”‚
    â”œâ”€â”€ lib/
    â”‚   â”œâ”€â”€ supabase/
    â”‚   â”‚   â”œâ”€â”€ client.ts           # Browser client
    â”‚   â”‚   â”œâ”€â”€ server.ts           # Server client
    â”‚   â”‚   â””â”€â”€ middleware.ts       # Auth middleware
    â”‚   â”œâ”€â”€ elevenlabs/
    â”‚   â”‚   â”œâ”€â”€ client.ts           # ElevenLabs SDK
    â”‚   â”‚   â”œâ”€â”€ conversation.ts     # Conversation helpers
    â”‚   â”‚   â””â”€â”€ voices.ts           # Voice configurations
    â”‚   â”œâ”€â”€ gemini/
    â”‚   â”‚   â”œâ”€â”€ client.ts           # Vertex AI client
    â”‚   â”‚   â”œâ”€â”€ personas.ts         # Persona generation
    â”‚   â”‚   â”œâ”€â”€ scoring.ts          # Call scoring
    â”‚   â”‚   â””â”€â”€ feedback.ts         # Feedback generation
    â”‚   â”œâ”€â”€ groq/
    â”‚   â”‚   â””â”€â”€ client.ts           # Groq client
    â”‚   â”œâ”€â”€ datadog/
    â”‚   â”‚   â””â”€â”€ client.ts           # Datadog LLM observability
    â”‚   â””â”€â”€ utils/
    â”‚       â”œâ”€â”€ cn.ts               # Class names utility
    â”‚       â””â”€â”€ formatters.ts       # Data formatting
    â”‚
    â”œâ”€â”€ types/
    â”‚   â”œâ”€â”€ database.ts             # Database types
    â”‚   â”œâ”€â”€ supabase.ts             # Generated Supabase types
    â”‚   â”œâ”€â”€ call.ts                 # Call-related types
    â”‚   â”œâ”€â”€ persona.ts              # Persona types
    â”‚   â””â”€â”€ scoring.ts              # Scoring types
    â”‚
    â”œâ”€â”€ config/
    â”‚   â”œâ”€â”€ personas.ts             # Pre-built persona templates
    â”‚   â”œâ”€â”€ objections.ts           # Common objections library
    â”‚   â”œâ”€â”€ scoring.ts              # Scoring criteria
    â”‚   â””â”€â”€ site.ts                 # Site configuration
    â”‚
    â””â”€â”€ middleware.ts               # Next.js middleware (Clerk)
```

---

## Implementation Priorities

### Phase 1: Foundation (Day 1)
- [ ] Initialize Next.js 15 project with TypeScript
- [ ] Configure Tailwind CSS and shadcn/ui (no shadows)
- [ ] Set up Clerk authentication
- [ ] Set up Supabase database and schema
- [ ] Create basic layout and routing structure
- [ ] Implement landing page

### Phase 2: Core Flow (Day 2)
- [ ] Implement onboarding flow
- [ ] Build dashboard with basic stats
- [ ] Create scenario selection UI
- [ ] Implement persona generation with Gemini
- [ ] Build pre-call briefing component

### Phase 3: Voice Integration (Day 3)
- [ ] Integrate ElevenLabs Conversational AI
- [ ] Build call interface with voice waveform
- [ ] Implement live transcript display
- [ ] Handle call start/end flow
- [ ] Store transcripts in Supabase

### Phase 4: Scoring & Feedback (Day 4)
- [ ] Implement scoring pipeline (Groq quick + Gemini deep)
- [ ] Build score card component
- [ ] Create key moments display
- [ ] Build transcript viewer with annotations
- [ ] Implement progress tracking

### Phase 5: Polish & Deploy (Day 5)
- [ ] Add Datadog LLM observability
- [ ] Polish UI and animations
- [ ] Test end-to-end flow
- [ ] Deploy to Vercel
- [ ] Record demo video

---

## Important Notes for Claude Code

### Do's
- Always use TypeScript with strict mode
- Follow the component hierarchy defined above
- Use shadcn/ui components via MCP when available
- Implement proper error handling and loading states
- Add Datadog tracing to all LLM calls
- Use Edge runtime for latency-sensitive routes
- Follow the no-shadows design principle

### Don'ts
- Don't add box-shadow to any component
- Don't use external state management (React state + Supabase is enough)
- Don't skip TypeScript types
- Don't make API calls without authentication checks
- Don't forget to handle WebSocket disconnections gracefully

### Key Integrations to Remember
1. **ElevenLabs** - Voice is the core product, prioritize low latency
2. **Gemini** - Powers persona generation and deep scoring
3. **Groq** - Quick scoring for immediate feedback
4. **Datadog** - Trace all AI calls for observability (secondary track)
5. **Supabase Realtime** - Stream transcripts to UI during calls

### Environment Check
Before implementing any feature, verify these are configured:
- [ ] Clerk keys are set
- [ ] Supabase URL and keys are set
- [ ] ElevenLabs API key is set
- [ ] Google Cloud credentials are configured
- [ ] Groq API key is set
- [ ] (Optional) Datadog keys for observability track

---

## Quick Reference

### Start Development
```bash
pnpm install
cp .env.example .env.local
# Fill in environment variables
pnpm dev
```

### Add shadcn Component
```bash
pnpm ui:add [component-name]
```

### Deploy
```bash
vercel --prod
```

---

**Remember: The goal is to build a tool that makes salespeople genuinely better at their job. Every feature should serve that purpose.**

*Never wing a call again.*
