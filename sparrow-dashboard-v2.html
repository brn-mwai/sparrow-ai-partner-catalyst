<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Sparrow AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#faf5ff',
              100: '#f3e8ff',
              200: '#e9d5ff',
              300: '#d8b4fe',
              400: '#c084fc',
              500: '#a855f7',
              600: '#9333ea',
              700: '#7c3aed',
              800: '#6b21a8',
              900: '#581c87',
            }
          }
        }
      }
    }
  </script>
  <style>
    * {
      box-shadow: none !important;
    }
    .active-nav {
      background-color: #f3e8ff;
      color: #7c3aed;
      border-right: 2px solid #7c3aed;
    }
    .score-bar {
      height: 6px;
      border-radius: 3px;
      background-color: #e5e7eb;
    }
    .score-fill {
      height: 100%;
      border-radius: 3px;
      background-color: #7c3aed;
    }
    .chat-slide {
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
    }
    .chat-slide.open {
      transform: translateX(0);
    }
    .integration-pulse {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
  </style>
</head>
<body class="bg-gray-50 font-sans">
  <div class="flex h-screen">
    
    <!-- Sidebar -->
    <aside class="w-64 bg-white border-r border-gray-200 flex flex-col">
      <!-- Logo -->
      <div class="p-6 border-b border-gray-200">
        <div class="flex items-center gap-2">
          <i class="ph ph-bird text-2xl text-primary-600"></i>
          <span class="text-xl font-semibold text-gray-900">Sparrow AI</span>
        </div>
      </div>
      
      <!-- Navigation -->
      <nav class="flex-1 p-4">
        <ul class="space-y-1">
          <li>
            <a href="#dashboard" class="flex items-center gap-3 px-4 py-3 rounded-lg active-nav" data-page="dashboard">
              <i class="ph ph-squares-four text-xl"></i>
              <span class="font-medium">Dashboard</span>
            </a>
          </li>
          <li>
            <a href="#practice" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50" data-page="practice">
              <i class="ph ph-phone-call text-xl"></i>
              <span class="font-medium">Practice</span>
            </a>
          </li>
          <li>
            <a href="#history" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50" data-page="history">
              <i class="ph ph-clock-counter-clockwise text-xl"></i>
              <span class="font-medium">Call History</span>
            </a>
          </li>
          <li>
            <a href="#progress" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50" data-page="progress">
              <i class="ph ph-chart-line-up text-xl"></i>
              <span class="font-medium">Progress</span>
            </a>
          </li>
          <li>
            <a href="#personas" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50" data-page="personas">
              <i class="ph ph-users-three text-xl"></i>
              <span class="font-medium">AI Prospects</span>
            </a>
          </li>
        </ul>
        
        <div class="mt-8 pt-8 border-t border-gray-200">
          <ul class="space-y-1">
            <li>
              <a href="#integrations" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50" data-page="integrations">
                <i class="ph ph-plugs-connected text-xl"></i>
                <span class="font-medium">Integrations</span>
              </a>
            </li>
            <li>
              <a href="#settings" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50" data-page="settings">
                <i class="ph ph-gear text-xl"></i>
                <span class="font-medium">Settings</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>
      
      <!-- Integration Status -->
      <div class="p-4 border-t border-gray-200">
        <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-3">Services Status</p>
        <div class="space-y-2">
          <div class="flex items-center justify-between text-xs">
            <span class="text-gray-600">ElevenLabs</span>
            <span class="flex items-center gap-1 text-green-600">
              <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
              Active
            </span>
          </div>
          <div class="flex items-center justify-between text-xs">
            <span class="text-gray-600">Datadog</span>
            <span class="flex items-center gap-1 text-green-600">
              <span class="w-1.5 h-1.5 rounded-full bg-green-500 integration-pulse"></span>
              Monitoring
            </span>
          </div>
        </div>
      </div>
      
      <!-- User Profile -->
      <div class="p-4 border-t border-gray-200">
        <div class="flex items-center gap-3 px-2">
          <div class="w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center">
            <span class="text-primary-700 font-medium">BM</span>
          </div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium text-gray-900 truncate">Brian Mwai</p>
            <p class="text-xs text-gray-500 truncate">brian@hausorlabs.com</p>
          </div>
          <button class="text-gray-400 hover:text-gray-600">
            <i class="ph ph-sign-out text-xl"></i>
          </button>
        </div>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="flex-1 overflow-auto relative">
      
      <!-- Dashboard Page -->
      <div id="page-dashboard" class="page">
        <!-- Header -->
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-semibold text-gray-900">Welcome back, Brian</h1>
              <p class="text-gray-500 mt-1">Ready to sharpen your sales skills?</p>
            </div>
            <button onclick="showPage('practice')" class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
              <i class="ph ph-phone-call text-lg"></i>
              <span class="font-medium">Start Practice Call</span>
            </button>
          </div>
        </header>
        
        <!-- Stats -->
        <div class="p-8">
          <!-- Integration Banner -->
          <div class="mb-6 p-4 bg-gradient-to-r from-primary-50 to-blue-50 border border-primary-200 rounded-lg">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <i class="ph ph-activity text-xl text-primary-600"></i>
                <div>
                  <p class="font-medium text-gray-900">System Health</p>
                  <p class="text-sm text-gray-600">All integrations operational - Monitored by Datadog</p>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <div class="flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg">
                  <img src="https://imgix.datadoghq.com/img/dd_logo_n_70x75.png?ch=Width,DPR&fit=max&auto=format&w=20&h=20" alt="Datadog" class="w-4 h-4">
                  <span class="text-xs font-medium text-gray-700">Datadog</span>
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                </div>
                <button onclick="showPage('integrations')" class="text-sm text-primary-600 hover:text-primary-700 font-medium">View Status</button>
              </div>
            </div>
          </div>
          
          <div class="grid grid-cols-4 gap-6 mb-8">
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <span class="text-gray-500 text-sm font-medium">Total Calls</span>
                <i class="ph ph-phone text-xl text-primary-600"></i>
              </div>
              <p class="text-3xl font-semibold text-gray-900">23</p>
              <p class="text-sm text-green-600 mt-2 flex items-center gap-1">
                <i class="ph ph-arrow-up text-sm"></i>
                <span>+5 this week</span>
              </p>
            </div>
            
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <span class="text-gray-500 text-sm font-medium">Average Score</span>
                <i class="ph ph-chart-bar text-xl text-primary-600"></i>
              </div>
              <p class="text-3xl font-semibold text-gray-900">74</p>
              <p class="text-sm text-green-600 mt-2 flex items-center gap-1">
                <i class="ph ph-arrow-up text-sm"></i>
                <span>+8 from last week</span>
              </p>
            </div>
            
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <span class="text-gray-500 text-sm font-medium">Practice Time</span>
                <i class="ph ph-timer text-xl text-primary-600"></i>
              </div>
              <p class="text-3xl font-semibold text-gray-900">2.4h</p>
              <p class="text-sm text-gray-500 mt-2">This week</p>
            </div>
            
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <span class="text-gray-500 text-sm font-medium">Current Streak</span>
                <i class="ph ph-fire text-xl text-orange-500"></i>
              </div>
              <p class="text-3xl font-semibold text-gray-900">4 days</p>
              <p class="text-sm text-gray-500 mt-2">Best: 7 days</p>
            </div>
          </div>
          
          <!-- Quick Start -->
          <div class="mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Quick Start</h2>
            <div class="grid grid-cols-3 gap-6">
              <button onclick="selectMode('cold_call')" class="bg-white border border-gray-200 rounded-lg p-6 text-left hover:border-primary-300 transition-colors group">
                <div class="w-12 h-12 rounded-lg bg-primary-50 flex items-center justify-center mb-4 group-hover:bg-primary-100">
                  <i class="ph ph-phone-outgoing text-2xl text-primary-600"></i>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Cold Call</h3>
                <p class="text-sm text-gray-500">Practice opening calls and getting past gatekeepers</p>
              </button>
              
              <button onclick="selectMode('discovery')" class="bg-white border border-gray-200 rounded-lg p-6 text-left hover:border-primary-300 transition-colors group">
                <div class="w-12 h-12 rounded-lg bg-primary-50 flex items-center justify-center mb-4 group-hover:bg-primary-100">
                  <i class="ph ph-magnifying-glass text-2xl text-primary-600"></i>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Discovery Call</h3>
                <p class="text-sm text-gray-500">Master asking questions and uncovering pain points</p>
              </button>
              
              <button onclick="selectMode('objection')" class="bg-white border border-gray-200 rounded-lg p-6 text-left hover:border-primary-300 transition-colors group">
                <div class="w-12 h-12 rounded-lg bg-primary-50 flex items-center justify-center mb-4 group-hover:bg-primary-100">
                  <i class="ph ph-shield-check text-2xl text-primary-600"></i>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Objection Gauntlet</h3>
                <p class="text-sm text-gray-500">Handle rapid-fire objections and build resilience</p>
              </button>
            </div>
          </div>
          
          <!-- Recent Calls & Focus Area -->
          <div class="grid grid-cols-3 gap-6">
            <!-- Recent Calls -->
            <div class="col-span-2 bg-white border border-gray-200 rounded-lg">
              <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                <h2 class="font-semibold text-gray-900">Recent Calls</h2>
                <a href="#history" onclick="showPage('history')" class="text-sm text-primary-600 hover:text-primary-700 font-medium">View all</a>
              </div>
              <div class="divide-y divide-gray-100">
                <div class="px-6 py-4 flex items-center gap-4">
                  <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                    <span class="text-blue-700 font-medium text-sm">SC</span>
                  </div>
                  <div class="flex-1">
                    <p class="font-medium text-gray-900">Cold Call with Sarah Chen</p>
                    <p class="text-sm text-gray-500">VP of Operations at LogiFlow</p>
                  </div>
                  <div class="text-right">
                    <p class="font-semibold text-primary-600">78</p>
                    <p class="text-xs text-gray-500">3 min ago</p>
                  </div>
                </div>
                
                <div class="px-6 py-4 flex items-center gap-4">
                  <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center">
                    <span class="text-green-700 font-medium text-sm">MT</span>
                  </div>
                  <div class="flex-1">
                    <p class="font-medium text-gray-900">Discovery with Mike Torres</p>
                    <p class="text-sm text-gray-500">CTO at DataSync</p>
                  </div>
                  <div class="text-right">
                    <p class="font-semibold text-primary-600">62</p>
                    <p class="text-xs text-gray-500">Yesterday</p>
                  </div>
                </div>
                
                <div class="px-6 py-4 flex items-center gap-4">
                  <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center">
                    <span class="text-purple-700 font-medium text-sm">RJ</span>
                  </div>
                  <div class="flex-1">
                    <p class="font-medium text-gray-900">Objection Gauntlet with Rachel Johnson</p>
                    <p class="text-sm text-gray-500">Director of Procurement</p>
                  </div>
                  <div class="text-right">
                    <p class="font-semibold text-primary-600">85</p>
                    <p class="text-xs text-gray-500">2 days ago</p>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Focus Area -->
            <div class="bg-white border border-gray-200 rounded-lg">
              <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="font-semibold text-gray-900">Focus Area</h2>
              </div>
              <div class="p-6">
                <div class="flex items-start gap-3 mb-4">
                  <div class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0">
                    <i class="ph ph-target text-orange-600"></i>
                  </div>
                  <div>
                    <p class="font-medium text-gray-900">Your closing needs work</p>
                    <p class="text-sm text-gray-500 mt-1">In 4 of your last 6 calls, you didn't ask for a specific next step.</p>
                  </div>
                </div>
                <button class="w-full mt-4 px-4 py-2 border border-primary-600 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors font-medium text-sm">
                  Practice Closing
                </button>
              </div>
              
              <div class="px-6 py-4 border-t border-gray-200">
                <p class="text-sm font-medium text-gray-700 mb-3">Skills Overview</p>
                <div class="space-y-3">
                  <div>
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-gray-600">Opening</span>
                      <span class="font-medium text-gray-900">85</span>
                    </div>
                    <div class="score-bar"><div class="score-fill" style="width: 85%"></div></div>
                  </div>
                  <div>
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-gray-600">Discovery</span>
                      <span class="font-medium text-gray-900">78</span>
                    </div>
                    <div class="score-bar"><div class="score-fill" style="width: 78%"></div></div>
                  </div>
                  <div>
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-gray-600">Objections</span>
                      <span class="font-medium text-gray-900">72</span>
                    </div>
                    <div class="score-bar"><div class="score-fill" style="width: 72%"></div></div>
                  </div>
                  <div>
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-gray-600">Closing</span>
                      <span class="font-medium text-gray-900">58</span>
                    </div>
                    <div class="score-bar"><div class="score-fill" style="width: 58%; background-color: #f97316"></div></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Practice Page -->
      <div id="page-practice" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div class="flex items-center gap-4">
            <button onclick="showPage('dashboard')" class="text-gray-400 hover:text-gray-600">
              <i class="ph ph-arrow-left text-xl"></i>
            </button>
            <div>
              <h1 class="text-2xl font-semibold text-gray-900">Start Practice Call</h1>
              <p class="text-gray-500 mt-1">Choose your practice mode and AI prospect</p>
            </div>
          </div>
        </header>
        
        <div class="p-8">
          <!-- Mode Selection -->
          <div class="mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Select Practice Mode</h2>
            <div class="grid grid-cols-3 gap-6">
              <label class="cursor-pointer">
                <input type="radio" name="mode" value="cold_call" class="peer hidden" checked>
                <div class="bg-white border-2 border-gray-200 rounded-lg p-6 peer-checked:border-primary-600 transition-colors">
                  <div class="w-12 h-12 rounded-lg bg-primary-50 flex items-center justify-center mb-4">
                    <i class="ph ph-phone-outgoing text-2xl text-primary-600"></i>
                  </div>
                  <h3 class="font-semibold text-gray-900 mb-2">Cold Call</h3>
                  <p class="text-sm text-gray-500 mb-4">Practice opening calls and getting past gatekeepers</p>
                  <ul class="text-sm text-gray-600 space-y-1">
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Opening hooks</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Gatekeeper handling</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Value proposition</span>
                    </li>
                  </ul>
                </div>
              </label>
              
              <label class="cursor-pointer">
                <input type="radio" name="mode" value="discovery" class="peer hidden">
                <div class="bg-white border-2 border-gray-200 rounded-lg p-6 peer-checked:border-primary-600 transition-colors">
                  <div class="w-12 h-12 rounded-lg bg-primary-50 flex items-center justify-center mb-4">
                    <i class="ph ph-magnifying-glass text-2xl text-primary-600"></i>
                  </div>
                  <h3 class="font-semibold text-gray-900 mb-2">Discovery Call</h3>
                  <p class="text-sm text-gray-500 mb-4">Master asking questions and uncovering pain points</p>
                  <ul class="text-sm text-gray-600 space-y-1">
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Open-ended questions</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Active listening</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Pain quantification</span>
                    </li>
                  </ul>
                </div>
              </label>
              
              <label class="cursor-pointer">
                <input type="radio" name="mode" value="objection" class="peer hidden">
                <div class="bg-white border-2 border-gray-200 rounded-lg p-6 peer-checked:border-primary-600 transition-colors">
                  <div class="w-12 h-12 rounded-lg bg-primary-50 flex items-center justify-center mb-4">
                    <i class="ph ph-shield-check text-2xl text-primary-600"></i>
                  </div>
                  <h3 class="font-semibold text-gray-900 mb-2">Objection Gauntlet</h3>
                  <p class="text-sm text-gray-500 mb-4">Handle rapid-fire objections and build resilience</p>
                  <ul class="text-sm text-gray-600 space-y-1">
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Price objections</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Timing objections</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <i class="ph ph-check text-green-500"></i>
                      <span>Competitor mentions</span>
                    </li>
                  </ul>
                </div>
              </label>
            </div>
          </div>
          
          <!-- Persona Selection -->
          <div class="mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Choose AI Prospect</h2>
            <div class="grid grid-cols-3 gap-6">
              <label class="cursor-pointer">
                <input type="radio" name="persona" value="sarah" class="peer hidden" checked>
                <div class="bg-white border-2 border-gray-200 rounded-lg p-6 peer-checked:border-primary-600 transition-colors">
                  <div class="flex items-center gap-4 mb-4">
                    <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
                      <span class="text-blue-700 font-semibold">SC</span>
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900">Sarah Chen</h3>
                      <p class="text-sm text-gray-500">VP of Operations</p>
                    </div>
                  </div>
                  <p class="text-sm text-gray-600 mb-3">LogiFlow (Logistics, 200 emp)</p>
                  <div class="flex items-center gap-2 mb-3">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded">Medium</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">Skeptical</span>
                  </div>
                  <p class="text-xs text-gray-500">Busy, data-driven, needs ROI proof</p>
                </div>
              </label>
              
              <label class="cursor-pointer">
                <input type="radio" name="persona" value="mike" class="peer hidden">
                <div class="bg-white border-2 border-gray-200 rounded-lg p-6 peer-checked:border-primary-600 transition-colors">
                  <div class="flex items-center gap-4 mb-4">
                    <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center">
                      <span class="text-green-700 font-semibold">MT</span>
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900">Mike Torres</h3>
                      <p class="text-sm text-gray-500">CTO</p>
                    </div>
                  </div>
                  <p class="text-sm text-gray-600 mb-3">DataSync (SaaS, 85 emp)</p>
                  <div class="flex items-center gap-2 mb-3">
                    <span class="px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded">Hard</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">Technical</span>
                  </div>
                  <p class="text-xs text-gray-500">Deep technical questions, security focused</p>
                </div>
              </label>
              
              <label class="cursor-pointer">
                <input type="radio" name="persona" value="rachel" class="peer hidden">
                <div class="bg-white border-2 border-gray-200 rounded-lg p-6 peer-checked:border-primary-600 transition-colors">
                  <div class="flex items-center gap-4 mb-4">
                    <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center">
                      <span class="text-purple-700 font-semibold">RJ</span>
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900">Rachel Johnson</h3>
                      <p class="text-sm text-gray-500">Dir. of Procurement</p>
                    </div>
                  </div>
                  <p class="text-sm text-gray-600 mb-3">MedTech Corp (Healthcare, 500 emp)</p>
                  <div class="flex items-center gap-2 mb-3">
                    <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded">Easy</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">Friendly</span>
                  </div>
                  <p class="text-xs text-gray-500">Open to conversation, budget conscious</p>
                </div>
              </label>
            </div>
          </div>
          
          <!-- Integration Info -->
          <div class="mb-8 p-4 bg-gray-50 border border-gray-200 rounded-lg">
            <p class="text-sm font-medium text-gray-700 mb-3">Powered by</p>
            <div class="flex items-center gap-6">
              <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded bg-black flex items-center justify-center">
                  <span class="text-white text-xs font-bold">11</span>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-900">ElevenLabs</p>
                  <p class="text-xs text-gray-500">Voice AI & TTS</p>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded bg-blue-600 flex items-center justify-center">
                  <i class="ph ph-brain text-white text-lg"></i>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-900">Gemini 2.0</p>
                  <p class="text-xs text-gray-500">Persona Generation</p>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded bg-orange-500 flex items-center justify-center">
                  <i class="ph ph-lightning text-white text-lg"></i>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-900">Groq</p>
                  <p class="text-xs text-gray-500">Fast Scoring</p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Start Call Button -->
          <div class="flex justify-end">
            <button onclick="showPage('call')" class="inline-flex items-center gap-2 px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
              <i class="ph ph-phone-call text-xl"></i>
              <span class="font-semibold">Start Call</span>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Call Interface Page -->
      <div id="page-call" class="page hidden">
        <div class="h-full flex">
          <!-- Left Panel - Mode & Prospect Info -->
          <div class="w-72 bg-white border-r border-gray-200 p-6 flex flex-col">
            <div class="mb-6">
              <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-2">Practice Mode</p>
              <div class="flex items-center gap-3 p-3 bg-primary-50 rounded-lg">
                <i class="ph ph-phone-outgoing text-xl text-primary-600"></i>
                <div>
                  <p class="font-medium text-gray-900">Cold Call</p>
                  <p class="text-xs text-gray-500">Opening & gatekeepers</p>
                </div>
              </div>
            </div>
            
            <div class="mb-6">
              <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-2">AI Prospect</p>
              <div class="p-3 border border-gray-200 rounded-lg">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                    <span class="text-blue-700 font-semibold text-sm">SC</span>
                  </div>
                  <div>
                    <p class="font-medium text-gray-900">Sarah Chen</p>
                    <p class="text-xs text-gray-500">VP of Operations</p>
                  </div>
                </div>
                <p class="text-xs text-gray-600">LogiFlow (Logistics)</p>
              </div>
            </div>
            
            <div class="flex-1">
              <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-2">Call Tips</p>
              <ul class="text-sm text-gray-600 space-y-2">
                <li class="flex items-start gap-2">
                  <i class="ph ph-lightbulb text-primary-500 mt-0.5"></i>
                  <span>Lead with a strong hook</span>
                </li>
                <li class="flex items-start gap-2">
                  <i class="ph ph-lightbulb text-primary-500 mt-0.5"></i>
                  <span>Ask for 30 seconds</span>
                </li>
                <li class="flex items-start gap-2">
                  <i class="ph ph-lightbulb text-primary-500 mt-0.5"></i>
                  <span>Focus on their problems</span>
                </li>
              </ul>
            </div>
            
            <!-- Active Integrations -->
            <div class="mb-4 p-3 bg-gray-50 rounded-lg">
              <p class="text-xs font-medium text-gray-500 mb-2">Active Services</p>
              <div class="space-y-2">
                <div class="flex items-center justify-between text-xs">
                  <span class="flex items-center gap-1.5">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                    ElevenLabs STT/TTS
                  </span>
                  <span class="text-gray-400">42ms</span>
                </div>
                <div class="flex items-center justify-between text-xs">
                  <span class="flex items-center gap-1.5">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-500 integration-pulse"></span>
                    Datadog Tracing
                  </span>
                  <span class="text-gray-400">Active</span>
                </div>
              </div>
            </div>
            
            <button onclick="showPage('debrief')" class="w-full py-3 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors font-medium flex items-center justify-center gap-2">
              <i class="ph ph-phone-x text-xl"></i>
              <span>End Call</span>
            </button>
          </div>
          
          <!-- Center Panel - Call Interface -->
          <div class="flex-1 flex flex-col">
            <!-- Call Header -->
            <div class="bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></div>
                <span class="text-sm font-medium text-gray-600">Call in progress</span>
                <span class="text-xs text-gray-400">|</span>
                <span class="text-xs text-gray-500 flex items-center gap-1">
                  <i class="ph ph-activity"></i>
                  Monitored by Datadog
                </span>
              </div>
              <div class="flex items-center gap-2 text-gray-600">
                <i class="ph ph-timer text-lg"></i>
                <span class="font-mono text-lg" id="call-timer">02:34</span>
              </div>
            </div>
            
            <!-- Audio Visualization -->
            <div class="flex-1 flex flex-col items-center justify-center bg-gray-50 p-8">
              <div class="mb-8">
                <div class="w-32 h-32 rounded-full bg-primary-100 flex items-center justify-center mb-4 relative">
                  <div class="absolute inset-0 rounded-full bg-primary-200 animate-ping opacity-25"></div>
                  <i class="ph ph-waveform text-5xl text-primary-600"></i>
                </div>
                <p class="text-center text-gray-600 font-medium">Speaking...</p>
                <p class="text-center text-xs text-gray-400 mt-1">Powered by ElevenLabs</p>
              </div>
              
              <!-- Audio Bars Visualization -->
              <div class="flex items-end gap-1 h-16 mb-8">
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 40%; animation-delay: 0ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 70%; animation-delay: 100ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 50%; animation-delay: 200ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 90%; animation-delay: 300ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 60%; animation-delay: 400ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 80%; animation-delay: 500ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 45%; animation-delay: 600ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 70%; animation-delay: 700ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 55%; animation-delay: 800ms"></div>
                <div class="w-2 bg-primary-400 rounded-full animate-pulse" style="height: 85%; animation-delay: 900ms"></div>
              </div>
              
              <!-- Mic Controls -->
              <div class="flex items-center gap-4">
                <button class="w-14 h-14 rounded-full bg-white border border-gray-200 flex items-center justify-center text-gray-600 hover:bg-gray-50">
                  <i class="ph ph-microphone text-2xl"></i>
                </button>
                <button onclick="showPage('debrief')" class="w-16 h-16 rounded-full bg-red-500 flex items-center justify-center text-white hover:bg-red-600">
                  <i class="ph ph-phone-x text-3xl"></i>
                </button>
                <button class="w-14 h-14 rounded-full bg-white border border-gray-200 flex items-center justify-center text-gray-600 hover:bg-gray-50">
                  <i class="ph ph-speaker-high text-2xl"></i>
                </button>
              </div>
            </div>
          </div>
          
          <!-- Right Panel - Live Transcript -->
          <div class="w-96 bg-white border-l border-gray-200 flex flex-col">
            <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
              <h2 class="font-semibold text-gray-900">Live Transcript</h2>
              <span class="text-xs text-gray-400 flex items-center gap-1">
                <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                Supabase Realtime
              </span>
            </div>
            <div class="flex-1 overflow-y-auto p-6 space-y-4">
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                  <span class="text-blue-700 font-medium text-xs">SC</span>
                </div>
                <div class="flex-1">
                  <p class="text-xs text-gray-500 mb-1">Sarah Chen</p>
                  <p class="text-sm text-gray-700 bg-gray-50 rounded-lg px-3 py-2">Hello?</p>
                </div>
              </div>
              
              <div class="flex gap-3 justify-end">
                <div class="flex-1 text-right">
                  <p class="text-xs text-gray-500 mb-1">You</p>
                  <p class="text-sm text-white bg-primary-600 rounded-lg px-3 py-2 inline-block text-left">Hi Sarah, this is Alex from Sparrow. I know you're busy, but I noticed LogiFlow just expanded to 3 new warehouses. I help ops leaders cut shipping delays by 40%. Got 30 seconds?</p>
                </div>
                <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0">
                  <span class="text-primary-700 font-medium text-xs">BM</span>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                  <span class="text-blue-700 font-medium text-xs">SC</span>
                </div>
                <div class="flex-1">
                  <p class="text-xs text-gray-500 mb-1">Sarah Chen</p>
                  <p class="text-sm text-gray-700 bg-gray-50 rounded-lg px-3 py-2">Look, I get calls like this all day. What makes you different from the other vendors who promised the same thing?</p>
                </div>
              </div>
              
              <div class="flex gap-3 justify-end">
                <div class="flex-1 text-right">
                  <p class="text-xs text-gray-500 mb-1">You</p>
                  <p class="text-sm text-white bg-primary-600 rounded-lg px-3 py-2 inline-block text-left">Fair question. Most solutions optimize routes. We optimize decisions. We helped FastFreight reduce their late deliveries by 40% in 6 weeks. Would seeing how we did that be worth 15 minutes?</p>
                </div>
                <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0">
                  <span class="text-primary-700 font-medium text-xs">BM</span>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                  <span class="text-blue-700 font-medium text-xs">SC</span>
                </div>
                <div class="flex-1">
                  <p class="text-xs text-gray-500 mb-1">Sarah Chen</p>
                  <div class="flex items-center gap-2 text-gray-400">
                    <div class="flex gap-1">
                      <div class="w-2 h-2 rounded-full bg-gray-300 animate-bounce" style="animation-delay: 0ms"></div>
                      <div class="w-2 h-2 rounded-full bg-gray-300 animate-bounce" style="animation-delay: 150ms"></div>
                      <div class="w-2 h-2 rounded-full bg-gray-300 animate-bounce" style="animation-delay: 300ms"></div>
                    </div>
                    <span class="text-xs">Thinking...</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Coach Sparrow Panel -->
            <div class="border-t border-gray-200 p-4">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-2">
                  <i class="ph ph-robot text-primary-600"></i>
                  <span class="text-sm font-medium text-gray-700">Coach Sparrow</span>
                </div>
                <span class="text-xs text-gray-400 flex items-center gap-1">
                  <i class="ph ph-lightning text-orange-500"></i>
                  Groq ~200ms
                </span>
              </div>
              <div class="space-y-2">
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-600">Opening</span>
                  <span class="font-medium text-primary-600">85</span>
                </div>
                <div class="score-bar"><div class="score-fill" style="width: 85%"></div></div>
                
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-600">Discovery</span>
                  <span class="font-medium text-primary-600">78</span>
                </div>
                <div class="score-bar"><div class="score-fill" style="width: 78%"></div></div>
                
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-600">Objections</span>
                  <span class="font-medium text-primary-600">72</span>
                </div>
                <div class="score-bar"><div class="score-fill" style="width: 72%"></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Debrief Page -->
      <div id="page-debrief" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
              <button onclick="showPage('dashboard')" class="text-gray-400 hover:text-gray-600">
                <i class="ph ph-arrow-left text-xl"></i>
              </button>
              <div>
                <h1 class="text-2xl font-semibold text-gray-900">Call Debrief</h1>
                <p class="text-gray-500 mt-1">Cold Call with Sarah Chen - 4 min 23 sec</p>
              </div>
            </div>
            <div class="flex items-center gap-3">
              <button onclick="toggleChat()" class="inline-flex items-center gap-2 px-4 py-2.5 border border-primary-600 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors">
                <i class="ph ph-chat-centered-text text-lg"></i>
                <span class="font-medium">Ask Coach Sparrow</span>
              </button>
              <button onclick="showPage('practice')" class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
                <i class="ph ph-arrow-clockwise text-lg"></i>
                <span class="font-medium">Practice Again</span>
              </button>
            </div>
          </div>
        </header>
        
        <div class="p-8">
          <!-- Scoring Info Banner -->
          <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <i class="ph ph-info text-xl text-blue-600"></i>
                <div>
                  <p class="font-medium text-gray-900">Scoring Complete</p>
                  <p class="text-sm text-gray-600">Quick score by Groq (180ms) + Deep analysis by Gemini 2.0 (2.3s)</p>
                </div>
              </div>
              <div class="flex items-center gap-4 text-xs">
                <div class="flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg">
                  <i class="ph ph-lightning text-orange-500"></i>
                  <span class="font-medium text-gray-700">Groq</span>
                  <span class="text-gray-400">180ms</span>
                </div>
                <div class="flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-lg">
                  <i class="ph ph-brain text-blue-500"></i>
                  <span class="font-medium text-gray-700">Gemini</span>
                  <span class="text-gray-400">2.3s</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="grid grid-cols-3 gap-6">
            <!-- Main Score -->
            <div class="col-span-2 space-y-6">
              <!-- Overall Score -->
              <div class="bg-white border border-gray-200 rounded-lg p-8">
                <div class="flex items-center gap-8">
                  <div class="relative">
                    <svg class="w-32 h-32 transform -rotate-90">
                      <circle cx="64" cy="64" r="56" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                      <circle cx="64" cy="64" r="56" stroke="#7c3aed" stroke-width="8" fill="none" 
                        stroke-dasharray="352" stroke-dashoffset="77" stroke-linecap="round"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                      <span class="text-4xl font-bold text-gray-900">78</span>
                    </div>
                  </div>
                  <div class="flex-1">
                    <h2 class="text-xl font-semibold text-gray-900 mb-2">Good Performance</h2>
                    <p class="text-gray-600 mb-4">Strong opening and objection handling. Work on asking for specific next steps.</p>
                    <div class="flex items-center gap-4 text-sm">
                      <div class="flex items-center gap-2 text-green-600">
                        <i class="ph ph-arrow-up"></i>
                        <span>+12 vs last cold call</span>
                      </div>
                      <div class="flex items-center gap-2 text-gray-500">
                        <i class="ph ph-timer"></i>
                        <span>4 min 23 sec</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Category Scores -->
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <div class="flex items-center justify-between mb-6">
                  <h3 class="font-semibold text-gray-900">Score Breakdown</h3>
                  <span class="text-xs text-gray-400 flex items-center gap-1">
                    <i class="ph ph-brain text-blue-500"></i>
                    Analyzed by Gemini 2.0
                  </span>
                </div>
                <div class="grid grid-cols-5 gap-4">
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <p class="text-3xl font-bold text-primary-600 mb-1">85</p>
                    <p class="text-sm text-gray-600">Opening</p>
                  </div>
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <p class="text-3xl font-bold text-primary-600 mb-1">78</p>
                    <p class="text-sm text-gray-600">Discovery</p>
                  </div>
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <p class="text-3xl font-bold text-primary-600 mb-1">82</p>
                    <p class="text-sm text-gray-600">Objections</p>
                  </div>
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <p class="text-3xl font-bold text-primary-600 mb-1">75</p>
                    <p class="text-sm text-gray-600">Communication</p>
                  </div>
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <p class="text-3xl font-bold text-orange-500 mb-1">62</p>
                    <p class="text-sm text-gray-600">Closing</p>
                  </div>
                </div>
              </div>
              
              <!-- Key Moments -->
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="font-semibold text-gray-900 mb-4">Key Moments</h3>
                <div class="space-y-4">
                  <div class="flex items-start gap-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                    <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0">
                      <i class="ph ph-check text-green-600"></i>
                    </div>
                    <div>
                      <div class="flex items-center gap-2 mb-1">
                        <span class="text-sm font-medium text-green-800">Strong Hook</span>
                        <span class="text-xs text-green-600">0:12</span>
                      </div>
                      <p class="text-sm text-green-700">"I noticed LogiFlow just expanded to 3 new warehouses" - Great personalization that earned attention.</p>
                    </div>
                  </div>
                  
                  <div class="flex items-start gap-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                    <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0">
                      <i class="ph ph-check text-green-600"></i>
                    </div>
                    <div>
                      <div class="flex items-center gap-2 mb-1">
                        <span class="text-sm font-medium text-green-800">Objection Reframe</span>
                        <span class="text-xs text-green-600">1:45</span>
                      </div>
                      <p class="text-sm text-green-700">"Most solutions optimize routes. We optimize decisions" - Excellent differentiation.</p>
                    </div>
                  </div>
                  
                  <div class="flex items-start gap-4 p-4 bg-orange-50 border border-orange-200 rounded-lg">
                    <div class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0">
                      <i class="ph ph-arrow-up text-orange-600"></i>
                    </div>
                    <div>
                      <div class="flex items-center gap-2 mb-1">
                        <span class="text-sm font-medium text-orange-800">Weak Close</span>
                        <span class="text-xs text-orange-600">4:10</span>
                      </div>
                      <p class="text-sm text-orange-700">"Would seeing how we did that be worth 15 minutes?" - Good, but didn't propose specific time. Try: "Do you have 15 minutes Thursday at 2pm?"</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Sidebar -->
            <div class="space-y-6">
              <!-- Strengths & Improvements -->
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="font-semibold text-gray-900 mb-4">What You Did Well</h3>
                <ul class="space-y-3">
                  <li class="flex items-start gap-3">
                    <i class="ph ph-check-circle text-green-500 mt-0.5"></i>
                    <span class="text-sm text-gray-600">Personalized opening with company research</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <i class="ph ph-check-circle text-green-500 mt-0.5"></i>
                    <span class="text-sm text-gray-600">Asked for specific time commitment (30 seconds)</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <i class="ph ph-check-circle text-green-500 mt-0.5"></i>
                    <span class="text-sm text-gray-600">Used social proof effectively (FastFreight example)</span>
                  </li>
                </ul>
              </div>
              
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="font-semibold text-gray-900 mb-4">Areas to Improve</h3>
                <ul class="space-y-3">
                  <li class="flex items-start gap-3">
                    <i class="ph ph-arrow-circle-up text-orange-500 mt-0.5"></i>
                    <span class="text-sm text-gray-600">Propose specific meeting time, not open-ended</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <i class="ph ph-arrow-circle-up text-orange-500 mt-0.5"></i>
                    <span class="text-sm text-gray-600">Ask more discovery questions before pitching</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <i class="ph ph-arrow-circle-up text-orange-500 mt-0.5"></i>
                    <span class="text-sm text-gray-600">Handle "what makes you different" with a question</span>
                  </li>
                </ul>
              </div>
              
              <!-- Ask Coach Sparrow CTA -->
              <div class="bg-gradient-to-br from-primary-50 to-blue-50 border border-primary-200 rounded-lg p-6">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center">
                    <i class="ph ph-chat-centered-text text-xl text-primary-600"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Coach Sparrow</h3>
                    <p class="text-xs text-gray-500">Powered by Gemini 2.0</p>
                  </div>
                </div>
                <p class="text-sm text-gray-600 mb-4">Ask questions about your call, get personalized advice, and learn how to improve.</p>
                <button onclick="toggleChat()" class="w-full py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium text-sm flex items-center justify-center gap-2">
                  <i class="ph ph-chat-centered-text"></i>
                  <span>Start Conversation</span>
                </button>
              </div>
              
              <!-- Full Transcript Link -->
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="font-semibold text-gray-900 mb-4">Full Transcript</h3>
                <p class="text-sm text-gray-600 mb-4">Review the complete conversation with timestamps and annotations.</p>
                <button class="w-full py-2 border border-gray-200 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium text-sm flex items-center justify-center gap-2">
                  <i class="ph ph-file-text"></i>
                  <span>View Transcript</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- History Page -->
      <div id="page-history" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-semibold text-gray-900">Call History</h1>
              <p class="text-gray-500 mt-1">Review your past practice sessions</p>
            </div>
            <div class="flex items-center gap-3">
              <select class="px-4 py-2 border border-gray-200 rounded-lg text-gray-700 bg-white">
                <option>All Modes</option>
                <option>Cold Call</option>
                <option>Discovery</option>
                <option>Objection Gauntlet</option>
              </select>
              <select class="px-4 py-2 border border-gray-200 rounded-lg text-gray-700 bg-white">
                <option>Last 7 days</option>
                <option>Last 30 days</option>
                <option>All time</option>
              </select>
            </div>
          </div>
        </header>
        
        <div class="p-8">
          <div class="bg-white border border-gray-200 rounded-lg">
            <table class="w-full">
              <thead>
                <tr class="border-b border-gray-200">
                  <th class="text-left px-6 py-4 text-sm font-medium text-gray-500">Prospect</th>
                  <th class="text-left px-6 py-4 text-sm font-medium text-gray-500">Mode</th>
                  <th class="text-left px-6 py-4 text-sm font-medium text-gray-500">Duration</th>
                  <th class="text-left px-6 py-4 text-sm font-medium text-gray-500">Score</th>
                  <th class="text-left px-6 py-4 text-sm font-medium text-gray-500">Date</th>
                  <th class="text-left px-6 py-4 text-sm font-medium text-gray-500"></th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-100">
                <tr class="hover:bg-gray-50 cursor-pointer" onclick="showPage('debrief')">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                        <span class="text-blue-700 font-medium text-sm">SC</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-900">Sarah Chen</p>
                        <p class="text-sm text-gray-500">VP of Operations</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded">Cold Call</span>
                  </td>
                  <td class="px-6 py-4 text-gray-600">4:23</td>
                  <td class="px-6 py-4">
                    <span class="font-semibold text-primary-600">78</span>
                  </td>
                  <td class="px-6 py-4 text-gray-500">Today, 2:34 PM</td>
                  <td class="px-6 py-4">
                    <button class="text-gray-400 hover:text-primary-600">
                      <i class="ph ph-arrow-right text-xl"></i>
                    </button>
                  </td>
                </tr>
                
                <tr class="hover:bg-gray-50 cursor-pointer">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center">
                        <span class="text-green-700 font-medium text-sm">MT</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-900">Mike Torres</p>
                        <p class="text-sm text-gray-500">CTO</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded">Discovery</span>
                  </td>
                  <td class="px-6 py-4 text-gray-600">8:12</td>
                  <td class="px-6 py-4">
                    <span class="font-semibold text-primary-600">62</span>
                  </td>
                  <td class="px-6 py-4 text-gray-500">Yesterday, 4:15 PM</td>
                  <td class="px-6 py-4">
                    <button class="text-gray-400 hover:text-primary-600">
                      <i class="ph ph-arrow-right text-xl"></i>
                    </button>
                  </td>
                </tr>
                
                <tr class="hover:bg-gray-50 cursor-pointer">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center">
                        <span class="text-purple-700 font-medium text-sm">RJ</span>
                      </div>
                      <div>
                        <p class="font-medium text-gray-900">Rachel Johnson</p>
                        <p class="text-sm text-gray-500">Dir. of Procurement</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="px-2 py-1 bg-orange-100 text-orange-700 text-xs font-medium rounded">Objection</span>
                  </td>
                  <td class="px-6 py-4 text-gray-600">3:45</td>
                  <td class="px-6 py-4">
                    <span class="font-semibold text-primary-600">85</span>
                  </td>
                  <td class="px-6 py-4 text-gray-500">Dec 21, 11:30 AM</td>
                  <td class="px-6 py-4">
                    <button class="text-gray-400 hover:text-primary-600">
                      <i class="ph ph-arrow-right text-xl"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- Progress Page -->
      <div id="page-progress" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-semibold text-gray-900">Your Progress</h1>
              <p class="text-gray-500 mt-1">Track your improvement over time</p>
            </div>
            <select class="px-4 py-2 border border-gray-200 rounded-lg text-gray-700 bg-white">
              <option>Last 30 days</option>
              <option>Last 90 days</option>
              <option>All time</option>
            </select>
          </div>
        </header>
        
        <div class="p-8">
          <!-- Datadog Metrics Banner -->
          <div class="mb-6 p-4 bg-purple-50 border border-purple-200 rounded-lg">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <img src="https://imgix.datadoghq.com/img/dd_logo_n_70x75.png?ch=Width,DPR&fit=max&auto=format&w=24&h=24" alt="Datadog" class="w-6 h-6">
                <div>
                  <p class="font-medium text-gray-900">Analytics powered by Datadog</p>
                  <p class="text-sm text-gray-600">Real-time metrics and performance tracking</p>
                </div>
              </div>
              <button class="text-sm text-primary-600 hover:text-primary-700 font-medium">View Dashboard</button>
            </div>
          </div>
          
          <!-- Progress Stats -->
          <div class="grid grid-cols-4 gap-6 mb-8">
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <p class="text-sm text-gray-500 mb-2">Score Trend</p>
              <div class="flex items-end gap-2">
                <span class="text-3xl font-bold text-gray-900">+18%</span>
                <span class="text-green-600 text-sm pb-1">vs last month</span>
              </div>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <p class="text-sm text-gray-500 mb-2">Calls Completed</p>
              <div class="flex items-end gap-2">
                <span class="text-3xl font-bold text-gray-900">23</span>
                <span class="text-gray-500 text-sm pb-1">this month</span>
              </div>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <p class="text-sm text-gray-500 mb-2">Best Score</p>
              <div class="flex items-end gap-2">
                <span class="text-3xl font-bold text-gray-900">92</span>
                <span class="text-gray-500 text-sm pb-1">Objection Gauntlet</span>
              </div>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <p class="text-sm text-gray-500 mb-2">Practice Time</p>
              <div class="flex items-end gap-2">
                <span class="text-3xl font-bold text-gray-900">4.2h</span>
                <span class="text-gray-500 text-sm pb-1">this month</span>
              </div>
            </div>
          </div>
          
          <div class="grid grid-cols-3 gap-6">
            <!-- Score Over Time Chart -->
            <div class="col-span-2 bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-6">
                <h3 class="font-semibold text-gray-900">Score Over Time</h3>
                <span class="text-xs text-gray-400 flex items-center gap-1">
                  <i class="ph ph-chart-line text-purple-500"></i>
                  Tracked by Datadog
                </span>
              </div>
              <div class="h-64 flex items-end justify-between gap-2 px-4">
                <div class="flex flex-col items-center gap-2 flex-1">
                  <div class="w-full bg-primary-200 rounded-t" style="height: 55%"></div>
                  <span class="text-xs text-gray-500">Week 1</span>
                </div>
                <div class="flex flex-col items-center gap-2 flex-1">
                  <div class="w-full bg-primary-300 rounded-t" style="height: 62%"></div>
                  <span class="text-xs text-gray-500">Week 2</span>
                </div>
                <div class="flex flex-col items-center gap-2 flex-1">
                  <div class="w-full bg-primary-400 rounded-t" style="height: 58%"></div>
                  <span class="text-xs text-gray-500">Week 3</span>
                </div>
                <div class="flex flex-col items-center gap-2 flex-1">
                  <div class="w-full bg-primary-500 rounded-t" style="height: 72%"></div>
                  <span class="text-xs text-gray-500">Week 4</span>
                </div>
              </div>
            </div>
            
            <!-- Skills Breakdown -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <h3 class="font-semibold text-gray-900 mb-6">Skills Progress</h3>
              <div class="space-y-5">
                <div>
                  <div class="flex justify-between text-sm mb-2">
                    <span class="text-gray-600">Opening</span>
                    <div class="flex items-center gap-2">
                      <span class="font-medium text-gray-900">85</span>
                      <span class="text-green-600 text-xs">+12</span>
                    </div>
                  </div>
                  <div class="score-bar"><div class="score-fill" style="width: 85%"></div></div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-2">
                    <span class="text-gray-600">Discovery</span>
                    <div class="flex items-center gap-2">
                      <span class="font-medium text-gray-900">78</span>
                      <span class="text-green-600 text-xs">+8</span>
                    </div>
                  </div>
                  <div class="score-bar"><div class="score-fill" style="width: 78%"></div></div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-2">
                    <span class="text-gray-600">Objection Handling</span>
                    <div class="flex items-center gap-2">
                      <span class="font-medium text-gray-900">72</span>
                      <span class="text-green-600 text-xs">+15</span>
                    </div>
                  </div>
                  <div class="score-bar"><div class="score-fill" style="width: 72%"></div></div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-2">
                    <span class="text-gray-600">Communication</span>
                    <div class="flex items-center gap-2">
                      <span class="font-medium text-gray-900">80</span>
                      <span class="text-green-600 text-xs">+5</span>
                    </div>
                  </div>
                  <div class="score-bar"><div class="score-fill" style="width: 80%"></div></div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-2">
                    <span class="text-gray-600">Closing</span>
                    <div class="flex items-center gap-2">
                      <span class="font-medium text-gray-900">58</span>
                      <span class="text-red-600 text-xs">-2</span>
                    </div>
                  </div>
                  <div class="score-bar"><div class="score-fill" style="width: 58%; background-color: #f97316"></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Personas Page -->
      <div id="page-personas" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-semibold text-gray-900">AI Prospects</h1>
              <p class="text-gray-500 mt-1">Meet your practice partners</p>
            </div>
            <div class="flex items-center gap-4">
              <span class="text-sm text-gray-400 flex items-center gap-1">
                <i class="ph ph-brain text-blue-500"></i>
                Generated by Gemini 2.0
              </span>
              <button onclick="openCreateProspectModal()" class="inline-flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
                <i class="ph ph-plus text-lg"></i>
                <span class="font-medium">Create Prospect</span>
              </button>
            </div>
          </div>
        </header>
        
        <div class="p-8">
          <!-- Tabs for Default vs Custom -->
          <div class="flex items-center gap-4 mb-6">
            <button onclick="showProspectTab('default')" id="tab-default" class="px-4 py-2 text-sm font-medium text-primary-600 border-b-2 border-primary-600">
              Default Prospects
            </button>
            <button onclick="showProspectTab('custom')" id="tab-custom" class="px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700">
              My Custom Prospects
            </button>
          </div>
          
          <!-- Default Prospects Grid -->
          <div id="prospects-default" class="grid grid-cols-3 gap-6">
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center">
                  <span class="text-blue-700 font-semibold text-xl">SC</span>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900 text-lg">Sarah Chen</h3>
                  <p class="text-gray-500">VP of Operations</p>
                </div>
              </div>
              <div class="mb-4">
                <p class="text-sm text-gray-600 mb-2">LogiFlow (Logistics, 200 emp)</p>
                <div class="flex items-center gap-2">
                  <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded">Medium</span>
                  <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">Skeptical</span>
                </div>
              </div>
              <p class="text-sm text-gray-600 mb-4">10 years in operations. Promoted last year after optimizing logistics costs by 30%. Under pressure to maintain results.</p>
              <div class="pt-4 border-t border-gray-200">
                <p class="text-xs text-gray-500 mb-2">Your stats with Sarah</p>
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-600">5 calls</span>
                  <span class="font-medium text-primary-600">Avg: 72</span>
                </div>
              </div>
            </div>
            
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center">
                  <span class="text-green-700 font-semibold text-xl">MT</span>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900 text-lg">Mike Torres</h3>
                  <p class="text-gray-500">CTO</p>
                </div>
              </div>
              <div class="mb-4">
                <p class="text-sm text-gray-600 mb-2">DataSync (SaaS, 85 emp)</p>
                <div class="flex items-center gap-2">
                  <span class="px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded">Hard</span>
                  <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">Technical</span>
                </div>
              </div>
              <p class="text-sm text-gray-600 mb-4">Former engineer turned executive. Asks deep technical questions. Obsessed with security and compliance.</p>
              <div class="pt-4 border-t border-gray-200">
                <p class="text-xs text-gray-500 mb-2">Your stats with Mike</p>
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-600">3 calls</span>
                  <span class="font-medium text-primary-600">Avg: 58</span>
                </div>
              </div>
            </div>
            
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center">
                  <span class="text-purple-700 font-semibold text-xl">RJ</span>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-900 text-lg">Rachel Johnson</h3>
                  <p class="text-gray-500">Dir. of Procurement</p>
                </div>
              </div>
              <div class="mb-4">
                <p class="text-sm text-gray-600 mb-2">MedTech Corp (Healthcare, 500 emp)</p>
                <div class="flex items-center gap-2">
                  <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded">Easy</span>
                  <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">Friendly</span>
                </div>
              </div>
              <p class="text-sm text-gray-600 mb-4">Open to new solutions. Budget-conscious but willing to pay for value. Good for building confidence.</p>
              <div class="pt-4 border-t border-gray-200">
                <p class="text-xs text-gray-500 mb-2">Your stats with Rachel</p>
                <div class="flex items-center justify-between text-sm">
                  <span class="text-gray-600">4 calls</span>
                  <span class="font-medium text-primary-600">Avg: 81</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Custom Prospects Grid (Hidden by default) -->
          <div id="prospects-custom" class="hidden">
            <!-- Empty State -->
            <div id="custom-empty-state" class="text-center py-16">
              <div class="w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4">
                <i class="ph ph-users-three text-3xl text-gray-400"></i>
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">No custom prospects yet</h3>
              <p class="text-gray-500 mb-6 max-w-md mx-auto">Create your own AI prospects tailored to your specific industry, target customers, or challenging scenarios.</p>
              <button onclick="openCreateProspectModal()" class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
                <i class="ph ph-plus text-lg"></i>
                <span class="font-medium">Create Your First Prospect</span>
              </button>
            </div>
            
            <!-- Custom Prospects Grid (populated by JS) -->
            <div id="custom-prospects-grid" class="grid grid-cols-3 gap-6 hidden"></div>
          </div>
        </div>
      </div>
      
      <!-- Create Prospect Modal -->
      <div id="create-prospect-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
          <!-- Modal Header -->
          <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white">
            <div>
              <h2 class="text-xl font-semibold text-gray-900">Create Custom Prospect</h2>
              <p class="text-sm text-gray-500">Design an AI persona tailored to your needs</p>
            </div>
            <button onclick="closeCreateProspectModal()" class="text-gray-400 hover:text-gray-600">
              <i class="ph ph-x text-xl"></i>
            </button>
          </div>
          
          <!-- Modal Body -->
          <div class="p-6">
            <form id="create-prospect-form" onsubmit="handleCreateProspect(event)">
              <!-- Basic Info -->
              <div class="mb-6">
                <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                  <i class="ph ph-user text-primary-600"></i>
                  Basic Information
                </h3>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">First Name *</label>
                    <input type="text" name="firstName" required placeholder="e.g., Jennifer" class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Last Name *</label>
                    <input type="text" name="lastName" required placeholder="e.g., Smith" class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500">
                  </div>
                </div>
              </div>
              
              <!-- Role & Company -->
              <div class="mb-6">
                <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                  <i class="ph ph-briefcase text-primary-600"></i>
                  Role & Company
                </h3>
                <div class="grid grid-cols-2 gap-4 mb-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Job Title *</label>
                    <input type="text" name="jobTitle" required placeholder="e.g., Head of Marketing" class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Company Name *</label>
                    <input type="text" name="companyName" required placeholder="e.g., TechVentures Inc" class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500">
                  </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Industry *</label>
                    <select name="industry" required class="w-full px-3 py-2 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500">
                      <option value="">Select industry...</option>
                      <option value="Technology">Technology</option>
                      <option value="Healthcare">Healthcare</option>
                      <option value="Finance">Finance & Banking</option>
                      <option value="Retail">Retail & E-commerce</option>
                      <option value="Manufacturing">Manufacturing</option>
                      <option value="Real Estate">Real Estate</option>
                      <option value="Education">Education</option>
                      <option value="Consulting">Consulting</option>
                      <option value="Media">Media & Entertainment</option>
                      <option value="Logistics">Logistics & Supply Chain</option>
                      <option value="Energy">Energy & Utilities</option>
                      <option value="Agriculture">Agriculture</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Company Size *</label>
                    <select name="companySize" required class="w-full px-3 py-2 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500">
                      <option value="">Select size...</option>
                      <option value="1-10">1-10 employees</option>
                      <option value="11-50">11-50 employees</option>
                      <option value="51-200">51-200 employees</option>
                      <option value="201-500">201-500 employees</option>
                      <option value="501-1000">501-1,000 employees</option>
                      <option value="1000+">1,000+ employees</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <!-- Difficulty & Personality -->
              <div class="mb-6">
                <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                  <i class="ph ph-brain text-primary-600"></i>
                  Difficulty & Personality
                </h3>
                <div class="mb-4">
                  <label class="block text-sm font-medium text-gray-700 mb-2">Difficulty Level *</label>
                  <div class="flex gap-3">
                    <label class="flex-1 cursor-pointer">
                      <input type="radio" name="difficulty" value="Easy" class="peer hidden" checked>
                      <div class="p-3 border-2 border-gray-200 rounded-lg text-center peer-checked:border-green-500 peer-checked:bg-green-50 transition-colors">
                        <span class="text-sm font-medium text-gray-700 peer-checked:text-green-700">Easy</span>
                        <p class="text-xs text-gray-500 mt-1">Friendly & open</p>
                      </div>
                    </label>
                    <label class="flex-1 cursor-pointer">
                      <input type="radio" name="difficulty" value="Medium" class="peer hidden">
                      <div class="p-3 border-2 border-gray-200 rounded-lg text-center peer-checked:border-yellow-500 peer-checked:bg-yellow-50 transition-colors">
                        <span class="text-sm font-medium text-gray-700 peer-checked:text-yellow-700">Medium</span>
                        <p class="text-xs text-gray-500 mt-1">Some resistance</p>
                      </div>
                    </label>
                    <label class="flex-1 cursor-pointer">
                      <input type="radio" name="difficulty" value="Hard" class="peer hidden">
                      <div class="p-3 border-2 border-gray-200 rounded-lg text-center peer-checked:border-red-500 peer-checked:bg-red-50 transition-colors">
                        <span class="text-sm font-medium text-gray-700 peer-checked:text-red-700">Hard</span>
                        <p class="text-xs text-gray-500 mt-1">Very challenging</p>
                      </div>
                    </label>
                  </div>
                </div>
                
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Personality Traits (select up to 3)</label>
                  <div class="flex flex-wrap gap-2" id="personality-traits">
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Skeptical" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Skeptical</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Technical" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Technical</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Busy" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Busy</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Friendly" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Friendly</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Analytical" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Analytical</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Impatient" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Impatient</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Budget-conscious" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Budget-conscious</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Risk-averse" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Risk-averse</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Decision-maker" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Decision-maker</span>
                    </label>
                    <label class="cursor-pointer">
                      <input type="checkbox" name="traits" value="Gatekeeper" class="peer hidden trait-checkbox">
                      <span class="px-3 py-1.5 border border-gray-200 rounded-full text-sm text-gray-600 peer-checked:bg-primary-100 peer-checked:border-primary-300 peer-checked:text-primary-700 transition-colors inline-block">Gatekeeper</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Background & Context -->
              <div class="mb-6">
                <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                  <i class="ph ph-note text-primary-600"></i>
                  Background & Context
                </h3>
                <div class="mb-4">
                  <label class="block text-sm font-medium text-gray-700 mb-1">Background Story</label>
                  <textarea name="background" rows="3" placeholder="e.g., 15 years in marketing, recently promoted, under pressure to show ROI on new initiatives..." class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500 resize-none"></textarea>
                  <p class="text-xs text-gray-500 mt-1">Optional: Add context to make the persona more realistic</p>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Common Objections</label>
                  <textarea name="objections" rows="2" placeholder="e.g., We already have a solution, No budget this quarter, Need to talk to my team..." class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500 resize-none"></textarea>
                  <p class="text-xs text-gray-500 mt-1">Optional: What objections should this prospect raise?</p>
                </div>
              </div>
              
              <!-- Voice Selection -->
              <div class="mb-6">
                <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                  <i class="ph ph-speaker-high text-primary-600"></i>
                  Voice Selection
                  <span class="text-xs font-normal text-gray-400 ml-1">Powered by ElevenLabs</span>
                </h3>
                
                <!-- Selected Voice Display -->
                <div id="selected-voice-display" class="p-4 border border-gray-200 rounded-lg mb-3">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center">
                        <i class="ph ph-user-sound text-gray-500"></i>
                      </div>
                      <div>
                        <p class="font-medium text-gray-900" id="selected-voice-name">No voice selected</p>
                        <p class="text-xs text-gray-500" id="selected-voice-details">Click browse to choose a voice</p>
                      </div>
                    </div>
                    <button type="button" onclick="openVoiceBrowser()" class="px-4 py-2 border border-primary-600 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors text-sm font-medium">
                      Browse Voices
                    </button>
                  </div>
                </div>
                
                <!-- Voice Settings -->
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Speaking Style</label>
                    <select name="speakingStyle" class="w-full px-3 py-2 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500">
                      <option value="conversational">Conversational</option>
                      <option value="professional">Professional</option>
                      <option value="casual">Casual</option>
                      <option value="formal">Formal</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Speaking Pace</label>
                    <select name="speakingPace" class="w-full px-3 py-2 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500">
                      <option value="normal">Normal</option>
                      <option value="fast">Fast (busy exec)</option>
                      <option value="slow">Slow (thoughtful)</option>
                    </select>
                  </div>
                </div>
                
                <!-- Hidden input to store selected voice ID -->
                <input type="hidden" name="voiceId" id="selected-voice-id" value="">
              </div>
              
              <!-- AI Generation Notice -->
              <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6">
                <div class="flex items-start gap-3">
                  <i class="ph ph-brain text-blue-600 text-xl"></i>
                  <div>
                    <p class="text-sm font-medium text-blue-900">AI-Enhanced Persona</p>
                    <p class="text-xs text-blue-700 mt-1">Gemini 2.0 will enhance your prospect with realistic responses, industry knowledge, and dynamic conversation patterns based on your inputs.</p>
                  </div>
                </div>
              </div>
              
              <!-- Form Actions -->
              <div class="flex items-center justify-end gap-3">
                <button type="button" onclick="closeCreateProspectModal()" class="px-5 py-2.5 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">
                  Cancel
                </button>
                <button type="submit" class="px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium flex items-center gap-2">
                  <i class="ph ph-sparkle"></i>
                  Create Prospect
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
      
      <!-- ElevenLabs Voice Browser Modal -->
      <div id="voice-browser-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[60] hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl w-full max-w-4xl max-h-[85vh] overflow-hidden flex flex-col">
          <!-- Modal Header -->
          <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-lg bg-black flex items-center justify-center">
                <span class="text-white text-sm font-bold">11</span>
              </div>
              <div>
                <h2 class="text-xl font-semibold text-gray-900">ElevenLabs Voice Library</h2>
                <p class="text-sm text-gray-500">Choose from 5,000+ AI voices</p>
              </div>
            </div>
            <button onclick="closeVoiceBrowser()" class="text-gray-400 hover:text-gray-600">
              <i class="ph ph-x text-xl"></i>
            </button>
          </div>
          
          <!-- Search and Filters -->
          <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
            <div class="flex items-center gap-4">
              <!-- Search -->
              <div class="flex-1 relative">
                <i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="text" id="voice-search" placeholder="Search voices by name, accent, or style..." class="w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500" oninput="filterVoices()">
              </div>
              
              <!-- Filters -->
              <select id="voice-filter-gender" class="px-3 py-2.5 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500" onchange="filterVoices()">
                <option value="">All Genders</option>
                <option value="female">Female</option>
                <option value="male">Male</option>
              </select>
              
              <select id="voice-filter-accent" class="px-3 py-2.5 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500" onchange="filterVoices()">
                <option value="">All Accents</option>
                <option value="american">American</option>
                <option value="british">British</option>
                <option value="australian">Australian</option>
                <option value="indian">Indian</option>
                <option value="african">African</option>
                <option value="european">European</option>
              </select>
              
              <select id="voice-filter-category" class="px-3 py-2.5 border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-primary-500" onchange="filterVoices()">
                <option value="">All Categories</option>
                <option value="professional">Professional</option>
                <option value="conversational">Conversational</option>
                <option value="narrative">Narrative</option>
                <option value="characters">Characters</option>
              </select>
            </div>
          </div>
          
          <!-- Voice Categories Tabs -->
          <div class="px-6 py-3 border-b border-gray-200 flex items-center gap-6">
            <button onclick="setVoiceCategory('featured')" class="voice-category-tab text-sm font-medium text-primary-600 border-b-2 border-primary-600 pb-2" data-category="featured">
               Featured
            </button>
            <button onclick="setVoiceCategory('default')" class="voice-category-tab text-sm font-medium text-gray-500 hover:text-gray-700 pb-2 border-b-2 border-transparent" data-category="default">
              Default Voices
            </button>
            <button onclick="setVoiceCategory('community')" class="voice-category-tab text-sm font-medium text-gray-500 hover:text-gray-700 pb-2 border-b-2 border-transparent" data-category="community">
              Community
            </button>
            <button onclick="setVoiceCategory('cloned')" class="voice-category-tab text-sm font-medium text-gray-500 hover:text-gray-700 pb-2 border-b-2 border-transparent" data-category="cloned">
              My Cloned Voices
            </button>
          </div>
          
          <!-- Voice Grid -->
          <div class="flex-1 overflow-y-auto p-6">
            <div id="voice-grid" class="grid grid-cols-2 gap-4">
              <!-- Voices will be populated by JavaScript -->
            </div>
          </div>
          
          <!-- Modal Footer -->
          <div class="px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between">
            <div class="flex items-center gap-2 text-sm text-gray-500">
              <i class="ph ph-info"></i>
              <span>Click on a voice to preview, then select to use it for your prospect</span>
            </div>
            <div class="flex items-center gap-3">
              <button onclick="closeVoiceBrowser()" class="px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-100 font-medium">
                Cancel
              </button>
              <button onclick="confirmVoiceSelection()" id="confirm-voice-btn" disabled class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed">
                Select Voice
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Integrations Page -->
      <div id="page-integrations" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <div>
            <h1 class="text-2xl font-semibold text-gray-900">Integrations</h1>
            <p class="text-gray-500 mt-1">Services powering your training experience</p>
          </div>
        </header>
        
        <div class="p-8">
          <div class="grid grid-cols-2 gap-6">
            <!-- ElevenLabs -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 rounded-lg bg-black flex items-center justify-center">
                    <span class="text-white text-lg font-bold">11</span>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">ElevenLabs</h3>
                    <p class="text-sm text-gray-500">Voice AI Platform</p>
                  </div>
                </div>
                <span class="flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                  Connected
                </span>
              </div>
              <p class="text-sm text-gray-600 mb-4">Powers realistic AI voice conversations with natural speech-to-text and text-to-speech capabilities.</p>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="text-xs font-medium text-gray-500 mb-2">Used for:</p>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Real-time voice conversations
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Speech-to-text transcription
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    AI prospect voice generation
                  </li>
                </ul>
              </div>
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm">
                <span class="text-gray-500">Avg latency: 42ms</span>
                <span class="text-gray-500">99.9% uptime</span>
              </div>
            </div>
            
            <!-- Datadog -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 rounded-lg bg-purple-600 flex items-center justify-center">
                    <img src="https://imgix.datadoghq.com/img/dd_logo_n_70x75.png?ch=Width,DPR&fit=max&auto=format&w=28&h=28" alt="Datadog" class="w-7 h-7">
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Datadog</h3>
                    <p class="text-sm text-gray-500">Observability Platform</p>
                  </div>
                </div>
                <span class="flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500 integration-pulse"></span>
                  Monitoring
                </span>
              </div>
              <p class="text-sm text-gray-600 mb-4">Provides real-time monitoring, distributed tracing, and analytics across all services.</p>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="text-xs font-medium text-gray-500 mb-2">Used for:</p>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    API performance monitoring
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    LLM latency tracking (Gemini, Groq)
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Error alerting & distributed tracing
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    User analytics & call metrics
                  </li>
                </ul>
              </div>
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm">
                <span class="text-gray-500">Traces: 1.2K/day</span>
                <span class="text-gray-500">Metrics: 45 custom</span>
              </div>
            </div>
            
            <!-- Gemini -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 rounded-lg bg-blue-600 flex items-center justify-center">
                    <i class="ph ph-brain text-white text-2xl"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Gemini 2.0 Flash</h3>
                    <p class="text-sm text-gray-500">Google AI</p>
                  </div>
                </div>
                <span class="flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                  Connected
                </span>
              </div>
              <p class="text-sm text-gray-600 mb-4">Powers deep analysis, persona generation, and comprehensive feedback synthesis.</p>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="text-xs font-medium text-gray-500 mb-2">Used for:</p>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    AI persona generation & backstories
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Deep call analysis & scoring
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Coach Sparrow chat responses
                  </li>
                </ul>
              </div>
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm">
                <span class="text-gray-500">Avg latency: 2.3s</span>
                <span class="text-gray-500">Model: gemini-2.0-flash</span>
              </div>
            </div>
            
            <!-- Groq -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 rounded-lg bg-orange-500 flex items-center justify-center">
                    <i class="ph ph-lightning text-white text-2xl"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Groq</h3>
                    <p class="text-sm text-gray-500">Ultra-fast Inference</p>
                  </div>
                </div>
                <span class="flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                  Connected
                </span>
              </div>
              <p class="text-sm text-gray-600 mb-4">Provides blazing-fast inference for real-time scoring during calls.</p>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="text-xs font-medium text-gray-500 mb-2">Used for:</p>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Real-time call scoring (~200ms)
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Quick feedback during calls
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Fallback for Gemini timeouts
                  </li>
                </ul>
              </div>
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm">
                <span class="text-gray-500">Avg latency: 180ms</span>
                <span class="text-gray-500">Model: llama-3.1-70b</span>
              </div>
            </div>
            
            <!-- Supabase -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 rounded-lg bg-emerald-600 flex items-center justify-center">
                    <i class="ph ph-database text-white text-2xl"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Supabase</h3>
                    <p class="text-sm text-gray-500">Database & Realtime</p>
                  </div>
                </div>
                <span class="flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                  Connected
                </span>
              </div>
              <p class="text-sm text-gray-600 mb-4">PostgreSQL database with real-time subscriptions for live transcript updates.</p>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="text-xs font-medium text-gray-500 mb-2">Used for:</p>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    User data & call history storage
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Real-time transcript streaming
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Row-level security & auth sync
                  </li>
                </ul>
              </div>
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm">
                <span class="text-gray-500">Region: us-east-1</span>
                <span class="text-gray-500">Realtime: Active</span>
              </div>
            </div>
            
            <!-- Clerk -->
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                  <div class="w-12 h-12 rounded-lg bg-indigo-600 flex items-center justify-center">
                    <i class="ph ph-user-circle text-white text-2xl"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Clerk</h3>
                    <p class="text-sm text-gray-500">Authentication</p>
                  </div>
                </div>
                <span class="flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">
                  <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                  Connected
                </span>
              </div>
              <p class="text-sm text-gray-600 mb-4">Handles user authentication, session management, and user profiles.</p>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="text-xs font-medium text-gray-500 mb-2">Used for:</p>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    User sign-up & sign-in flows
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Session & JWT management
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="ph ph-check text-green-500"></i>
                    Webhook sync with Supabase
                  </li>
                </ul>
              </div>
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm">
                <span class="text-gray-500">OAuth: Google, GitHub</span>
                <span class="text-gray-500">MFA: Available</span>
              </div>
            </div>
          </div>
          
          <!-- Architecture Diagram -->
          <div class="mt-8 bg-white border border-gray-200 rounded-lg p-6">
            <h3 class="font-semibold text-gray-900 mb-4">Integration Flow</h3>
            <div class="flex items-center justify-between p-6 bg-gray-50 rounded-lg">
              <div class="text-center">
                <div class="w-16 h-16 rounded-lg bg-indigo-100 flex items-center justify-center mx-auto mb-2">
                  <i class="ph ph-user text-2xl text-indigo-600"></i>
                </div>
                <p class="text-sm font-medium text-gray-900">User</p>
                <p class="text-xs text-gray-500">Clerk Auth</p>
              </div>
              <i class="ph ph-arrow-right text-gray-400 text-xl"></i>
              <div class="text-center">
                <div class="w-16 h-16 rounded-lg bg-black flex items-center justify-center mx-auto mb-2">
                  <span class="text-white font-bold">11</span>
                </div>
                <p class="text-sm font-medium text-gray-900">Voice</p>
                <p class="text-xs text-gray-500">ElevenLabs</p>
              </div>
              <i class="ph ph-arrow-right text-gray-400 text-xl"></i>
              <div class="text-center">
                <div class="w-16 h-16 rounded-lg bg-emerald-100 flex items-center justify-center mx-auto mb-2">
                  <i class="ph ph-database text-2xl text-emerald-600"></i>
                </div>
                <p class="text-sm font-medium text-gray-900">Database</p>
                <p class="text-xs text-gray-500">Supabase</p>
              </div>
              <i class="ph ph-arrow-right text-gray-400 text-xl"></i>
              <div class="text-center">
                <div class="w-16 h-16 rounded-lg bg-orange-100 flex items-center justify-center mx-auto mb-2">
                  <i class="ph ph-lightning text-2xl text-orange-500"></i>
                </div>
                <p class="text-sm font-medium text-gray-900">Fast Score</p>
                <p class="text-xs text-gray-500">Groq</p>
              </div>
              <i class="ph ph-arrow-right text-gray-400 text-xl"></i>
              <div class="text-center">
                <div class="w-16 h-16 rounded-lg bg-blue-100 flex items-center justify-center mx-auto mb-2">
                  <i class="ph ph-brain text-2xl text-blue-600"></i>
                </div>
                <p class="text-sm font-medium text-gray-900">Deep Analysis</p>
                <p class="text-xs text-gray-500">Gemini</p>
              </div>
              <i class="ph ph-arrows-clockwise text-gray-400 text-xl"></i>
              <div class="text-center">
                <div class="w-16 h-16 rounded-lg bg-purple-100 flex items-center justify-center mx-auto mb-2">
                  <img src="https://imgix.datadoghq.com/img/dd_logo_n_70x75.png?ch=Width,DPR&fit=max&auto=format&w=28&h=28" alt="Datadog" class="w-7 h-7">
                </div>
                <p class="text-sm font-medium text-gray-900">Monitor</p>
                <p class="text-xs text-gray-500">Datadog</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Settings Page -->
      <div id="page-settings" class="page hidden">
        <header class="bg-white border-b border-gray-200 px-8 py-6">
          <h1 class="text-2xl font-semibold text-gray-900">Settings</h1>
        </header>
        
        <div class="p-8 max-w-2xl">
          <div class="bg-white border border-gray-200 rounded-lg divide-y divide-gray-200">
            <div class="p-6">
              <h3 class="font-semibold text-gray-900 mb-4">Profile</h3>
              <div class="flex items-center gap-4 mb-4">
                <div class="w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center">
                  <span class="text-primary-700 font-semibold text-xl">BM</span>
                </div>
                <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50">
                  Change photo
                </button>
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">First name</label>
                  <input type="text" value="Brian" class="w-full px-3 py-2 border border-gray-200 rounded-lg">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Last name</label>
                  <input type="text" value="Mwai" class="w-full px-3 py-2 border border-gray-200 rounded-lg">
                </div>
              </div>
            </div>
            
            <div class="p-6">
              <h3 class="font-semibold text-gray-900 mb-4">Audio Settings</h3>
              <div class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Microphone</label>
                  <select class="w-full px-3 py-2 border border-gray-200 rounded-lg bg-white">
                    <option>Default - MacBook Pro Microphone</option>
                    <option>External Microphone</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Speaker</label>
                  <select class="w-full px-3 py-2 border border-gray-200 rounded-lg bg-white">
                    <option>Default - MacBook Pro Speakers</option>
                    <option>External Speakers</option>
                  </select>
                </div>
              </div>
            </div>
            
            <div class="p-6">
              <h3 class="font-semibold text-gray-900 mb-4">Notifications</h3>
              <div class="space-y-3">
                <label class="flex items-center justify-between">
                  <span class="text-gray-700">Practice reminders</span>
                  <input type="checkbox" checked class="w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                </label>
                <label class="flex items-center justify-between">
                  <span class="text-gray-700">Weekly progress reports</span>
                  <input type="checkbox" checked class="w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                </label>
              </div>
            </div>
          </div>
          
          <div class="mt-6 flex justify-end">
            <button class="px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium">
              Save Changes
            </button>
          </div>
        </div>
      </div>
      
      <!-- Coach Sparrow Chat Slide Panel -->
      <div id="chat-panel" class="chat-slide fixed top-0 right-0 h-full w-96 bg-white border-l border-gray-200 z-50 flex flex-col">
        <div class="p-4 border-b border-gray-200 flex items-center justify-between">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center">
              <i class="ph ph-robot text-xl text-primary-600"></i>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">Coach Sparrow</h3>
              <p class="text-xs text-gray-500">Ask about your call</p>
            </div>
          </div>
          <button onclick="toggleChat()" class="text-gray-400 hover:text-gray-600">
            <i class="ph ph-x text-xl"></i>
          </button>
        </div>
        
        <!-- Powered by badge -->
        <div class="px-4 py-2 bg-gray-50 border-b border-gray-200 flex items-center justify-center gap-2">
          <i class="ph ph-brain text-blue-500 text-sm"></i>
          <span class="text-xs text-gray-500">Powered by Gemini 2.0 Flash</span>
        </div>
        
        <!-- Chat Messages -->
        <div class="flex-1 overflow-y-auto p-4 space-y-4" id="chat-messages">
          <!-- AI Welcome -->
          <div class="flex gap-3">
            <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0">
              <i class="ph ph-robot text-primary-600"></i>
            </div>
            <div class="flex-1">
              <p class="text-sm text-gray-700 bg-gray-100 rounded-lg px-3 py-2">
                Hi Brian! I've analyzed your cold call with Sarah Chen. Your overall score was 78 - nice work! What would you like to know about your performance?
              </p>
            </div>
          </div>
          
          <!-- Suggested Questions -->
          <div class="pl-11 space-y-2">
            <button onclick="sendSuggestion('Why did I score low on closing?')" class="w-full text-left text-sm px-3 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-primary-300 transition-colors">
              Why did I score low on closing?
            </button>
            <button onclick="sendSuggestion('How could I have handled the objection better?')" class="w-full text-left text-sm px-3 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-primary-300 transition-colors">
              How could I have handled the objection better?
            </button>
            <button onclick="sendSuggestion('What should I say next time to close?')" class="w-full text-left text-sm px-3 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 hover:border-primary-300 transition-colors">
              What should I say next time to close?
            </button>
          </div>
        </div>
        
        <!-- Chat Input -->
        <div class="p-4 border-t border-gray-200">
          <div class="flex gap-2">
            <input type="text" id="chat-input" placeholder="Ask about your call..." class="flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary-500" onkeypress="handleChatKeypress(event)">
            <button onclick="sendMessage()" class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
              <i class="ph ph-paper-plane-right text-lg"></i>
            </button>
          </div>
          <p class="text-xs text-gray-400 mt-2 text-center">
            <i class="ph ph-info"></i>
            Based on your transcript with Sarah Chen
          </p>
        </div>
      </div>
      
    </main>
  </div>
  
  <script>
    // Page navigation
    function showPage(pageName) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.add('hidden');
      });
      
      document.getElementById('page-' + pageName).classList.remove('hidden');
      
      document.querySelectorAll('[data-page]').forEach(link => {
        link.classList.remove('active-nav');
        link.classList.add('text-gray-600');
      });
      
      const activeLink = document.querySelector('[data-page="' + pageName + '"]');
      if (activeLink) {
        activeLink.classList.add('active-nav');
        activeLink.classList.remove('text-gray-600');
      }
    }
    
    // Mode selection shortcut
    function selectMode(mode) {
      showPage('practice');
      const radio = document.querySelector('input[name="mode"][value="' + mode + '"]');
      if (radio) radio.checked = true;
    }
    
    // Nav link clicks
    document.querySelectorAll('[data-page]').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        showPage(link.dataset.page);
      });
    });
    
    // Call timer simulation
    let timerSeconds = 154;
    setInterval(() => {
      timerSeconds++;
      const minutes = Math.floor(timerSeconds / 60);
      const seconds = timerSeconds % 60;
      const timerEl = document.getElementById('call-timer');
      if (timerEl) {
        timerEl.textContent = String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');
      }
    }, 1000);
    
    // Chat Panel
    function toggleChat() {
      const panel = document.getElementById('chat-panel');
      panel.classList.toggle('open');
    }
    
    function sendSuggestion(text) {
      const messagesContainer = document.getElementById('chat-messages');
      
      // Add user message
      const userMsg = document.createElement('div');
      userMsg.className = 'flex gap-3 justify-end';
      userMsg.innerHTML = `
        <div class="flex-1 text-right">
          <p class="text-sm text-white bg-primary-600 rounded-lg px-3 py-2 inline-block text-left">${text}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0">
          <span class="text-primary-700 font-medium text-xs">BM</span>
        </div>
      `;
      messagesContainer.appendChild(userMsg);
      
      // Simulate AI response
      setTimeout(() => {
        const aiMsg = document.createElement('div');
        aiMsg.className = 'flex gap-3';
        
        let response = '';
        if (text.includes('closing')) {
          response = `Your closing scored 62 because you asked an open-ended question ("Would seeing how we did that be worth 15 minutes?") instead of proposing a specific time. Sarah was engaged - you had momentum! Next time, try: "I have 15 minutes Thursday at 2pm or Friday at 10am - which works better for you?" This makes it easy to say yes.`;
        } else if (text.includes('objection')) {
          response = `Your objection handling was actually strong (82)! You reframed "what makes you different" beautifully with "Most solutions optimize routes. We optimize decisions." One improvement: before answering, ask a clarifying question like "What have other vendors promised that didn't work out?" This shows curiosity and helps you tailor your response.`;
        } else if (text.includes('close')) {
          response = `Here's a strong closing formula for cold calls:\n\n1. Summarize the value: "So we could help LogiFlow reduce late deliveries like we did for FastFreight..."\n2. Propose specific times: "I have 15 minutes Thursday at 2pm or Friday at 10am"\n3. Make it easy: "Which works better for a quick call?"\n\nThe key is removing friction - don't make them think about their calendar.`;
        } else {
          response = `That's a great question! Based on your transcript, I can see specific moments where you could improve. Would you like me to break down a particular section of the call, or suggest practice exercises for your weakest area (closing)?`;
        }
        
        aiMsg.innerHTML = `
          <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0">
            <i class="ph ph-robot text-primary-600"></i>
          </div>
          <div class="flex-1">
            <p class="text-sm text-gray-700 bg-gray-100 rounded-lg px-3 py-2 whitespace-pre-line">${response}</p>
          </div>
        `;
        messagesContainer.appendChild(aiMsg);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }, 1000);
      
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function sendMessage() {
      const input = document.getElementById('chat-input');
      const text = input.value.trim();
      if (text) {
        sendSuggestion(text);
        input.value = '';
      }
    }
    
    function handleChatKeypress(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    }
    
    // Prospect tabs
    function showProspectTab(tab) {
      document.getElementById('tab-default').classList.remove('text-primary-600', 'border-primary-600');
      document.getElementById('tab-default').classList.add('text-gray-500', 'border-transparent');
      document.getElementById('tab-custom').classList.remove('text-primary-600', 'border-primary-600');
      document.getElementById('tab-custom').classList.add('text-gray-500', 'border-transparent');
      
      if (tab === 'default') {
        document.getElementById('tab-default').classList.add('text-primary-600', 'border-primary-600');
        document.getElementById('tab-default').classList.remove('text-gray-500', 'border-transparent');
        document.getElementById('prospects-default').classList.remove('hidden');
        document.getElementById('prospects-custom').classList.add('hidden');
      } else {
        document.getElementById('tab-custom').classList.add('text-primary-600', 'border-primary-600');
        document.getElementById('tab-custom').classList.remove('text-gray-500', 'border-transparent');
        document.getElementById('prospects-default').classList.add('hidden');
        document.getElementById('prospects-custom').classList.remove('hidden');
      }
    }
    
    // Create Prospect Modal
    function openCreateProspectModal() {
      document.getElementById('create-prospect-modal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeCreateProspectModal() {
      document.getElementById('create-prospect-modal').classList.add('hidden');
      document.body.style.overflow = '';
      document.getElementById('create-prospect-form').reset();
      
      // Reset voice selection
      selectedVoice = null;
      document.getElementById('selected-voice-name').textContent = 'No voice selected';
      document.getElementById('selected-voice-details').textContent = 'Click browse to choose a voice';
      document.getElementById('selected-voice-id').value = '';
      const displayIcon = document.querySelector('#selected-voice-display .w-10');
      displayIcon.className = 'w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center';
      displayIcon.innerHTML = '<i class="ph ph-user-sound text-gray-500"></i>';
    }
    
    // Limit trait selection to 3
    document.querySelectorAll('.trait-checkbox').forEach(checkbox => {
      checkbox.addEventListener('change', function() {
        const checked = document.querySelectorAll('.trait-checkbox:checked');
        if (checked.length > 3) {
          this.checked = false;
        }
      });
    });
    
    // Custom prospects storage
    let customProspects = JSON.parse(localStorage.getItem('customProspects') || '[]');
    
    function handleCreateProspect(e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);
      
      const traits = [];
      document.querySelectorAll('.trait-checkbox:checked').forEach(cb => {
        traits.push(cb.value);
      });
      
      const prospect = {
        id: Date.now(),
        firstName: formData.get('firstName'),
        lastName: formData.get('lastName'),
        initials: formData.get('firstName')[0] + formData.get('lastName')[0],
        jobTitle: formData.get('jobTitle'),
        companyName: formData.get('companyName'),
        industry: formData.get('industry'),
        companySize: formData.get('companySize'),
        difficulty: formData.get('difficulty'),
        traits: traits,
        background: formData.get('background'),
        objections: formData.get('objections'),
        voiceId: formData.get('voiceId') || null,
        voiceName: selectedVoice ? selectedVoice.name : null,
        speakingStyle: formData.get('speakingStyle'),
        speakingPace: formData.get('speakingPace'),
        calls: 0,
        avgScore: 0,
        createdAt: new Date().toISOString()
      };
      
      customProspects.push(prospect);
      localStorage.setItem('customProspects', JSON.stringify(customProspects));
      
      renderCustomProspects();
      closeCreateProspectModal();
      showProspectTab('custom');
    }
    
    function renderCustomProspects() {
      const grid = document.getElementById('custom-prospects-grid');
      const emptyState = document.getElementById('custom-empty-state');
      
      if (customProspects.length === 0) {
        emptyState.classList.remove('hidden');
        grid.classList.add('hidden');
        return;
      }
      
      emptyState.classList.add('hidden');
      grid.classList.remove('hidden');
      
      const colors = ['blue', 'green', 'purple', 'orange', 'pink', 'teal', 'indigo', 'rose'];
      
      grid.innerHTML = customProspects.map((prospect, index) => {
        const color = colors[index % colors.length];
        const difficultyColor = prospect.difficulty === 'Easy' ? 'green' : prospect.difficulty === 'Medium' ? 'yellow' : 'red';
        
        return `
          <div class="bg-white border border-gray-200 rounded-lg p-6 relative group">
            <button onclick="deleteProspect(${prospect.id})" class="absolute top-4 right-4 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity">
              <i class="ph ph-trash text-lg"></i>
            </button>
            <div class="flex items-center gap-4 mb-4">
              <div class="w-16 h-16 rounded-full bg-${color}-100 flex items-center justify-center">
                <span class="text-${color}-700 font-semibold text-xl">${prospect.initials}</span>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 text-lg">${prospect.firstName} ${prospect.lastName}</h3>
                <p class="text-gray-500">${prospect.jobTitle}</p>
              </div>
            </div>
            <div class="mb-4">
              <p class="text-sm text-gray-600 mb-2">${prospect.companyName} (${prospect.industry}, ${prospect.companySize} emp)</p>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="px-2 py-1 bg-${difficultyColor}-100 text-${difficultyColor}-700 text-xs font-medium rounded">${prospect.difficulty}</span>
                ${prospect.traits.map(trait => `<span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded">${trait}</span>`).join('')}
              </div>
            </div>
            ${prospect.background ? `<p class="text-sm text-gray-600 mb-4">${prospect.background.substring(0, 100)}${prospect.background.length > 100 ? '...' : ''}</p>` : ''}
            ${prospect.voiceName ? `
            <div class="flex items-center gap-2 mb-4 text-sm text-gray-500">
              <i class="ph ph-speaker-high text-primary-500"></i>
              <span>Voice: ${prospect.voiceName}</span>
            </div>
            ` : ''}
            <div class="pt-4 border-t border-gray-200 flex items-center justify-between">
              <div>
                <p class="text-xs text-gray-500 mb-1">Your stats</p>
                <div class="flex items-center gap-3 text-sm">
                  <span class="text-gray-600">${prospect.calls} calls</span>
                  <span class="font-medium text-primary-600">Avg: ${prospect.avgScore || '-'}</span>
                </div>
              </div>
              <button onclick="startCallWithProspect(${prospect.id})" class="px-3 py-1.5 bg-primary-600 text-white text-sm rounded-lg hover:bg-primary-700 transition-colors">
                Practice
              </button>
            </div>
          </div>
        `;
      }).join('');
    }
    
    function deleteProspect(id) {
      if (confirm('Are you sure you want to delete this prospect?')) {
        customProspects = customProspects.filter(p => p.id !== id);
        localStorage.setItem('customProspects', JSON.stringify(customProspects));
        renderCustomProspects();
      }
    }
    
    function startCallWithProspect(id) {
      // Would integrate with the practice flow
      showPage('practice');
    }
    
    // Initialize custom prospects on page load
    renderCustomProspects();
    
    // Close modal when clicking outside
    document.getElementById('create-prospect-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeCreateProspectModal();
      }
    });
    
    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeCreateProspectModal();
        closeVoiceBrowser();
      }
    });
    
    // ========================================
    // ElevenLabs Voice Browser
    // ========================================
    
    // Sample voices data (in production, this would come from ElevenLabs API)
    const elevenLabsVoices = [
      // Featured Voices
      { id: 'rachel', name: 'Rachel', gender: 'female', accent: 'american', category: 'professional', type: 'featured', description: 'Calm and professional, perfect for business conversations', preview: 'https://api.elevenlabs.io/v1/voices/21m00Tcm4TlvDq8ikWAM/preview', labels: ['Calm', 'Professional', 'Clear'] },
      { id: 'drew', name: 'Drew', gender: 'male', accent: 'american', category: 'professional', type: 'featured', description: 'Confident and articulate, ideal for executive personas', preview: 'https://api.elevenlabs.io/v1/voices/29vD33N1CtxCmqQRPOHJ/preview', labels: ['Confident', 'Warm', 'Articulate'] },
      { id: 'emily', name: 'Emily', gender: 'female', accent: 'american', category: 'conversational', type: 'featured', description: 'Friendly and approachable, great for casual interactions', preview: null, labels: ['Friendly', 'Young', 'Energetic'] },
      { id: 'josh', name: 'Josh', gender: 'male', accent: 'american', category: 'conversational', type: 'featured', description: 'Natural and engaging, suits various scenarios', preview: null, labels: ['Natural', 'Engaging', 'Versatile'] },
      { id: 'bella', name: 'Bella', gender: 'female', accent: 'british', category: 'professional', type: 'featured', description: 'British accent with authoritative tone', preview: null, labels: ['British', 'Authoritative', 'Sophisticated'] },
      { id: 'adam', name: 'Adam', gender: 'male', accent: 'british', category: 'narrative', type: 'featured', description: 'Deep British voice, great for storytelling', preview: null, labels: ['Deep', 'British', 'Narrative'] },
      
      // Default Voices
      { id: 'aria', name: 'Aria', gender: 'female', accent: 'american', category: 'professional', type: 'default', description: 'Expressive and warm, ideal for customer-facing roles', preview: null, labels: ['Expressive', 'Warm'] },
      { id: 'roger', name: 'Roger', gender: 'male', accent: 'american', category: 'professional', type: 'default', description: 'Mature and trustworthy, suits executive personas', preview: null, labels: ['Mature', 'Trustworthy'] },
      { id: 'sarah', name: 'Sarah', gender: 'female', accent: 'american', category: 'conversational', type: 'default', description: 'Soft and friendly, approachable tone', preview: null, labels: ['Soft', 'Friendly'] },
      { id: 'charlie', name: 'Charlie', gender: 'male', accent: 'australian', category: 'conversational', type: 'default', description: 'Australian accent, casual and relaxed', preview: null, labels: ['Australian', 'Casual'] },
      { id: 'george', name: 'George', gender: 'male', accent: 'british', category: 'professional', type: 'default', description: 'Classic British professional voice', preview: null, labels: ['British', 'Classic'] },
      { id: 'lily', name: 'Lily', gender: 'female', accent: 'british', category: 'professional', type: 'default', description: 'Refined British accent, elegant delivery', preview: null, labels: ['British', 'Elegant'] },
      
      // Community Voices
      { id: 'priya', name: 'Priya', gender: 'female', accent: 'indian', category: 'professional', type: 'community', description: 'Indian accent, tech industry professional', preview: null, labels: ['Indian', 'Tech', 'Professional'] },
      { id: 'kwame', name: 'Kwame', gender: 'male', accent: 'african', category: 'professional', type: 'community', description: 'West African accent, warm and engaging', preview: null, labels: ['African', 'Warm', 'Engaging'] },
      { id: 'sofia', name: 'Sofia', gender: 'female', accent: 'european', category: 'professional', type: 'community', description: 'European accent, international business feel', preview: null, labels: ['European', 'International'] },
      { id: 'marcus', name: 'Marcus', gender: 'male', accent: 'american', category: 'characters', type: 'community', description: 'Deep voice, skeptical tone for challenging prospects', preview: null, labels: ['Deep', 'Skeptical', 'Challenging'] },
      { id: 'hannah', name: 'Hannah', gender: 'female', accent: 'australian', category: 'conversational', type: 'community', description: 'Australian startup founder vibe', preview: null, labels: ['Australian', 'Startup', 'Dynamic'] },
      { id: 'james', name: 'James', gender: 'male', accent: 'british', category: 'characters', type: 'community', description: 'Impatient executive, time-pressed persona', preview: null, labels: ['British', 'Impatient', 'Executive'] },
      { id: 'amara', name: 'Amara', gender: 'female', accent: 'african', category: 'professional', type: 'community', description: 'Nigerian accent, procurement specialist', preview: null, labels: ['Nigerian', 'Procurement'] },
      { id: 'chen', name: 'Chen Wei', gender: 'male', accent: 'american', category: 'professional', type: 'community', description: 'Tech executive, analytical and direct', preview: null, labels: ['Tech', 'Analytical', 'Direct'] },
    ];
    
    let selectedVoice = null;
    let currentVoiceCategory = 'featured';
    let currentAudio = null;
    
    function openVoiceBrowser() {
      document.getElementById('voice-browser-modal').classList.remove('hidden');
      renderVoices();
    }
    
    function closeVoiceBrowser() {
      document.getElementById('voice-browser-modal').classList.add('hidden');
      if (currentAudio) {
        currentAudio.pause();
        currentAudio = null;
      }
    }
    
    function setVoiceCategory(category) {
      currentVoiceCategory = category;
      
      // Update tab styles
      document.querySelectorAll('.voice-category-tab').forEach(tab => {
        tab.classList.remove('text-primary-600', 'border-primary-600');
        tab.classList.add('text-gray-500', 'border-transparent');
      });
      
      const activeTab = document.querySelector(`.voice-category-tab[data-category="${category}"]`);
      if (activeTab) {
        activeTab.classList.add('text-primary-600', 'border-primary-600');
        activeTab.classList.remove('text-gray-500', 'border-transparent');
      }
      
      renderVoices();
    }
    
    function filterVoices() {
      renderVoices();
    }
    
    function renderVoices() {
      const grid = document.getElementById('voice-grid');
      const search = document.getElementById('voice-search').value.toLowerCase();
      const gender = document.getElementById('voice-filter-gender').value;
      const accent = document.getElementById('voice-filter-accent').value;
      const category = document.getElementById('voice-filter-category').value;
      
      let filteredVoices = elevenLabsVoices.filter(voice => {
        // Category filter (from tabs)
        if (currentVoiceCategory === 'cloned') {
          return false; // No cloned voices in demo
        }
        if (currentVoiceCategory !== 'featured' && voice.type !== currentVoiceCategory) {
          return false;
        }
        if (currentVoiceCategory === 'featured' && voice.type !== 'featured') {
          return false;
        }
        
        // Search filter
        if (search && !voice.name.toLowerCase().includes(search) && 
            !voice.description.toLowerCase().includes(search) &&
            !voice.labels.some(l => l.toLowerCase().includes(search))) {
          return false;
        }
        
        // Dropdown filters
        if (gender && voice.gender !== gender) return false;
        if (accent && voice.accent !== accent) return false;
        if (category && voice.category !== category) return false;
        
        return true;
      });
      
      if (currentVoiceCategory === 'cloned') {
        grid.innerHTML = `
          <div class="col-span-2 text-center py-12">
            <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4">
              <i class="ph ph-microphone text-2xl text-gray-400"></i>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">No Cloned Voices Yet</h3>
            <p class="text-gray-500 mb-4">Clone your own voice or upload audio samples to create custom voices.</p>
            <button class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium text-sm">
              <i class="ph ph-plus mr-1"></i>
              Clone Voice
            </button>
          </div>
        `;
        return;
      }
      
      if (filteredVoices.length === 0) {
        grid.innerHTML = `
          <div class="col-span-2 text-center py-12">
            <i class="ph ph-magnifying-glass text-4xl text-gray-300 mb-4"></i>
            <p class="text-gray-500">No voices found matching your criteria</p>
          </div>
        `;
        return;
      }
      
      grid.innerHTML = filteredVoices.map(voice => `
        <div class="voice-card p-4 border-2 rounded-lg cursor-pointer transition-all ${selectedVoice?.id === voice.id ? 'border-primary-500 bg-primary-50' : 'border-gray-200 hover:border-gray-300'}" 
             onclick="selectVoice('${voice.id}')">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-full ${voice.gender === 'female' ? 'bg-pink-100' : 'bg-blue-100'} flex items-center justify-center flex-shrink-0">
              <i class="ph ph-user text-xl ${voice.gender === 'female' ? 'text-pink-600' : 'text-blue-600'}"></i>
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center justify-between mb-1">
                <h4 class="font-semibold text-gray-900">${voice.name}</h4>
                <button onclick="event.stopPropagation(); previewVoice('${voice.id}')" class="p-2 rounded-full hover:bg-gray-100 text-gray-500 hover:text-primary-600 transition-colors" title="Preview voice">
                  <i class="ph ph-play-circle text-xl" id="play-icon-${voice.id}"></i>
                </button>
              </div>
              <p class="text-sm text-gray-500 mb-2">${voice.description}</p>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded capitalize">${voice.gender}</span>
                <span class="px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded capitalize">${voice.accent}</span>
                ${voice.labels.slice(0, 2).map(label => `<span class="px-2 py-0.5 bg-primary-50 text-primary-600 text-xs rounded">${label}</span>`).join('')}
              </div>
            </div>
          </div>
          ${selectedVoice?.id === voice.id ? '<div class="mt-3 pt-3 border-t border-primary-200 flex items-center gap-2 text-primary-600 text-sm"><i class="ph ph-check-circle"></i> Selected</div>' : ''}
        </div>
      `).join('');
    }
    
    function selectVoice(voiceId) {
      selectedVoice = elevenLabsVoices.find(v => v.id === voiceId);
      document.getElementById('confirm-voice-btn').disabled = false;
      renderVoices();
    }
    
    function previewVoice(voiceId) {
      const voice = elevenLabsVoices.find(v => v.id === voiceId);
      const playIcon = document.getElementById(`play-icon-${voiceId}`);
      
      // Stop any currently playing audio
      if (currentAudio) {
        currentAudio.pause();
        document.querySelectorAll('[id^="play-icon-"]').forEach(icon => {
          icon.classList.remove('ph-stop-circle');
          icon.classList.add('ph-play-circle');
        });
      }
      
      // In production, this would play the actual ElevenLabs preview
      // For demo, we'll simulate the audio playing
      playIcon.classList.remove('ph-play-circle');
      playIcon.classList.add('ph-stop-circle');
      
      // Simulate audio duration
      setTimeout(() => {
        playIcon.classList.remove('ph-stop-circle');
        playIcon.classList.add('ph-play-circle');
      }, 3000);
      
      // Show preview toast
      showToast(`Playing preview: "${voice.name}"`, 'info');
    }
    
    function confirmVoiceSelection() {
      if (!selectedVoice) return;
      
      // Update the selected voice display in the form
      document.getElementById('selected-voice-name').textContent = selectedVoice.name;
      document.getElementById('selected-voice-details').textContent = `${selectedVoice.gender.charAt(0).toUpperCase() + selectedVoice.gender.slice(1)}  ${selectedVoice.accent.charAt(0).toUpperCase() + selectedVoice.accent.slice(1)} accent  ${selectedVoice.labels[0]}`;
      document.getElementById('selected-voice-id').value = selectedVoice.id;
      
      // Update the display icon
      const displayIcon = document.querySelector('#selected-voice-display .w-10');
      displayIcon.className = `w-10 h-10 rounded-full ${selectedVoice.gender === 'female' ? 'bg-pink-100' : 'bg-blue-100'} flex items-center justify-center`;
      displayIcon.innerHTML = `<i class="ph ph-user-sound ${selectedVoice.gender === 'female' ? 'text-pink-600' : 'text-blue-600'}"></i>`;
      
      closeVoiceBrowser();
      showToast(`Voice "${selectedVoice.name}" selected`, 'success');
    }
    
    function showToast(message, type = 'info') {
      // Create toast element
      const toast = document.createElement('div');
      toast.className = `fixed bottom-4 right-4 px-4 py-3 rounded-lg text-white text-sm font-medium z-[100] transition-all transform translate-y-2 opacity-0 ${type === 'success' ? 'bg-green-600' : 'bg-gray-800'}`;
      toast.innerHTML = `
        <div class="flex items-center gap-2">
          <i class="ph ${type === 'success' ? 'ph-check-circle' : 'ph-info'}"></i>
          <span>${message}</span>
        </div>
      `;
      document.body.appendChild(toast);
      
      // Animate in
      setTimeout(() => {
        toast.classList.remove('translate-y-2', 'opacity-0');
      }, 10);
      
      // Remove after delay
      setTimeout(() => {
        toast.classList.add('translate-y-2', 'opacity-0');
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }
    
    // Close voice browser modal when clicking outside
    document.getElementById('voice-browser-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeVoiceBrowser();
      }
    });
  </script>
</body>
</html>
